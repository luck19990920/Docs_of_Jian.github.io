{"config":{"lang":["en"],"separator":"[\\s\\u200b\\u3000\\-\u3001\u3002\uff0c\uff0e\uff1f\uff01\uff1b]+","pipeline":["stemmer"]},"docs":[{"location":"index.html","title":"\u6b22\u8fce\u6765\u5230Docs of Jian","text":""},{"location":"index.html#_1","title":"\u672c\u6587\u6863\u7684\u4e3b\u8981\u5185\u5bb9","text":"<p>\u672c\u6587\u6863\u4e3b\u8981\u7528\u4e8e\u8bb0\u5f55\u7b14\u8005\u5728\u5b66\u4e60\u8ba1\u7b97\u5316\u5b66\u8fc7\u7a0b\u4e2d\u7684\u5b66\u4e60\u5230\u7684\u5185\u5bb9\uff0c\u4ee5\u53ca\u4e2a\u4eba\u5bf9\u76f8\u5173\u7a0b\u5e8f\u6e90\u4ee3\u7801\u7684\u7406\u89e3\u3002\u76ee\u524d\u672c\u6587\u6863\u4e3b\u8981\u5305\u62ec\u4ee5\u4e0b\u51e0\u4e2a\u65b9\u9762\u3002</p> <ul> <li>\u8ba1\u7b97\u5316\u5b66\uff1a\u8be5\u90e8\u5206\u4e3b\u8981\u8bb0\u5f55\u8ba1\u7b97\u5316\u5b66\u7684\u76f8\u5173\u5185\u5bb9\uff0c\u4e3b\u8981\u5305\u62ec\u7b2c\u4e00\u6027\u539f\u7406\u8ba1\u7b97\u8f6f\u4ef6<code>CP2K</code>, \u91cf\u5b50\u5316\u5b66\u8ba1\u7b97\u8f6f\u4ef6<code>ORCA</code>\u4e0e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u8f6f\u4ef6<code>GROMACS</code>\u7b49\u3002</li> <li>\u8ba1\u7b97\u673a\u79d1\u5b66\uff1a\u8be5\u90e8\u5206\u4e3b\u8981\u8bb0\u5f55\u8ba1\u7b97\u673a\u79d1\u5b66\u7684\u76f8\u5173\u5185\u5bb9\u3002</li> <li>\u76f8\u5173\u6750\u6599\uff1a\u8be5\u90e8\u5206\u4e3b\u8981\u4e3a\u6587\u6863\u4e2d\u6d89\u53ca\u5230\u7684\u76f8\u5173\u8d44\u6599\u3002</li> </ul>"},{"location":"CS/fluent_python/chapter_2.html","title":"Chapter 2","text":""},{"location":"CS/fluent_python/chapter_2.html#overview-of-built-in-sequences","title":"Overview of Built-In Sequences","text":"<p>\u6839\u636eSequences\u4e2d\u5b58\u50a8\u7684\u5143\u7d20\u7c7b\u578b\uff0c\u53ef\u5206\u4e3aContainer sequences\u548cFlat sequences\u3002</p> <ul> <li>Container sequences: \u53ef\u5b58\u50a8\u4e0d\u540c\u7c7b\u578b\u7684\u5143\u7d20(\u4e0b\u5de6\u56fe)</li> <li>Flat sequences: \u53ea\u80fd\u5b58\u50a8\u4e00\u79cd\u7c7b\u578b\u7684\u5143\u7d20(\u4e0b\u53f3\u56fe)</li> </ul> Container sequences v.s. Flat sequences <p>\u6839\u636eSequences\u4e2d\u5b58\u50a8\u7684\u5143\u7d20\u662f\u5426\u53ef\u53d8\uff0c\u53ef\u5206\u4e3aMutable sequences\u548cImmutable sequences\u3002</p> <ul> <li>Mutable sequences: \u5176\u4e2d\u7684\u5143\u7d20\u53ef\u53d8</li> <li>Immutable sequences: \u5176\u4e2d\u7684\u5143\u7d20\u4e0d\u53ef\u53d8</li> </ul>"},{"location":"CS/fluent_python/chapter_2.html#list-comprehensions-and-generator-expressions","title":"List Comprehensions and Generator Expressions","text":"<p>\u82e5\u9700\u8981\u5feb\u901f\u751f\u6210\u5e8f\u5217\u7c7b\u578b\uff0c\u53ef\u4f7f\u7528\u5217\u8868\u63a8\u5bfc\u5f0f(list comprehensions)(\u751f\u6210\u7684\u5bf9\u8c61\u4e3a<code>list</code>)\u6216\u751f\u6210\u5668\u8868\u8fbe\u5f0f(generator expressions)(\u751f\u6210\u5bf9\u8c61\u4e3a\u5176\u4ed6\u5e8f\u5217\u7c7b\u578b)\u3002</p> <ul> <li> <p>\u5217\u8868\u63a8\u5bfc\u5f0f \u5217\u8868\u63a8\u5bfc\u5f0f1<pre><code>&gt;&gt;&gt; x = 'ABC'\n&gt;&gt;&gt; codes = [ord(x) for x in x]\n&gt;&gt;&gt; x \n'ABC'\n&gt;&gt;&gt; codes\n[65, 66, 67]\n</code></pre> \u5217\u8868\u63a8\u5bfc\u5f0f2<pre><code>&gt;&gt;&gt; colors = ['blank', 'white']\n&gt;&gt;&gt; sizes = ['S', 'M']\n&gt;&gt;&gt; tshirts = [(color, size) for color in colors for size in sizes]\n&gt;&gt;&gt; tshirts\n[('blank', 'S'), ('blank', 'M'), ('white', 'S'), ('white', 'M')]\n</code></pre></p> </li> <li> <p>\u751f\u6210\u5668\u8868\u8fbe\u5f0f \u751f\u6210\u5668\u8868\u8fbe\u5f0f1<pre><code>&gt;&gt;&gt; x = 'ABC'\n&gt;&gt;&gt; codes = (ord(x) for x in x)\n&gt;&gt;&gt; x \n'ABC'\n&gt;&gt;&gt; list(codes)\n[65, 66, 67]\n</code></pre> \u751f\u6210\u5668\u8868\u8fbe\u5f0f2<pre><code>&gt;&gt;&gt; colors = ['blank', 'white']\n&gt;&gt;&gt; sizes = ['S', 'M']\n&gt;&gt;&gt; for tshirt in (f'{color} {size}' for color in colors for size in sizes)\n...     print(tshirts)\nblank S\nblank M\nwhite S\nwhite M\n</code></pre> \u751f\u6210\u5668\u8868\u8fbe\u5f0f\u7528\u66f4\u5c11\u7684\u5b58\u50a8\u7a7a\u95f4\uff0c\u56e0\u4e3a\u5176\u4e2d\u7684\u5143\u7d20\u662f\u6309\u9700\u9010\u4e2a\u751f\u6210\u7684\u3002\u800c\u5217\u8868\u63a8\u5bfc\u5f0f\u662f\u4e00\u4e0b\u5b50\u5c06\u6240\u6709\u5143\u7d20\u751f\u6210\u5217\u8868\u3002</p> </li> </ul>"},{"location":"CS/fluent_python/chapter_2.html#tuples-are-not-just-immutable-list","title":"Tuples Are Not Just Immutable List","text":"<p>tuple\u65e2\u53ef\u4ee5\u4f5c\u4e3a\u4e0d\u53ef\u53d8\u5217\u8868\uff0c\u4e5f\u53ef\u4ee5\u7528\u4f5c\u6ca1\u6709\u5b57\u6bb5\u540d\u79f0\u7684\u8bb0\u5f55\u3002</p> <ul> <li>tuple\u4f5c\u4e3a\u6ca1\u6709\u5b57\u6bb5\u540d\u79f0\u7684\u8bb0\u5f55 tuple\u4f5c\u4e3a\u6ca1\u6709\u5b57\u6bb5\u540d\u79f0\u7684\u8bb0\u5f55<pre><code>&gt;&gt;&gt; traveler_ids = [('USA', '31195855'), ('BRA', 'CE342567'), ('ESP', 'XDA205856')]\n&gt;&gt;&gt; for passport in sorted(traveler_ids):\n...     print('%s/%s' % passport)\n...\nBRA/CE342567\nESP/XDA205856\nUSA/31195855\n</code></pre></li> <li>tuple\u4f5c\u4e3a\u4e0d\u53ef\u53d8\u7684list   \u8fd9\u6837\u53ef\u4ee5\u5e26\u6765\u4e24\u4e2a\u597d\u5904\uff1a1.\u7b80\u6d01\uff1a\u5f53\u4f7f\u7528tuple\u65f6\uff0c\u4f60\u5e94\u8be5\u77e5\u9053\u5b83\u7684\u957f\u5ea6\u4e0d\u53ef\u53d8\u30022.\u6548\u7387\u66f4\u9ad8\uff1a\u5bf9\u4e8e\u540c\u7b49\u957f\u5ea6\u7684list\u4e0etuple\uff0ctuple\u6240\u9700\u7684\u5b58\u50a8\u7a7a\u95f4\u66f4\u5c0f\u3002\u4f46\u662f\uff0c\u5e94\u8be5\u6ce8\u610f\u7684\u662f\u867d\u7136tuple\u4e2d\u5143\u7d20\u503c\u4e0d\u53ef\u6539\u53d8\uff0c\u4f46\u662f\u5143\u7d20\u503c\u6240\u6307\u5bf9\u8c61\u662f\u53ef\u4ee5\u6539\u53d8\u7684\uff0c\u5982\u4e0b\u56fe\u6240\u793a\u3002  </li> </ul> The content of the tuple itself is immutable, but referenced objects is mutable. <p>\u5982\u679c\u9700\u8981\u5224\u65adtuple\u662f\u5426\u6709\u56fa\u5b9a\u7684\u503c\uff0c\u53ef\u4f7f\u7528<code>hash</code>\u51fd\u6570\uff0c\u5982\u4e0b\u6240\u793a\u3002   \u5224\u65adtuple\u662f\u5426\u6709\u56fa\u5b9a\u7684\u503c\u7684fixed\u51fd\u6570<pre><code>&gt;&gt;&gt; def fixed(o):\n...     try:\n...         hash(o)    # \u83b7\u53d6o\u7684\u54c8\u5e0c\u503c\n...     except TypeError:\n...         return False\n...     return True\n</code></pre></p>"},{"location":"CS/fluent_python/chapter_2.html#unpacking-sequences-and-iterables","title":"Unpacking Sequences and Iterables","text":"<ul> <li>unpacking\u7684\u7b2c\u4e00\u79cd\u65b9\u5f0f\uff1aparallel assignment   \u6700\u5e38\u89c1\u7684unpacking\u5f62\u5f0f:parallel assignment<pre><code>&gt;&gt;&gt; lax_coordinates = (33, 118)\n&gt;&gt;&gt; lat, lon = lax_coordinates    # unpacking\n&gt;&gt;&gt; lat\n33\n&gt;&gt;&gt; lon\n118\n</code></pre></li> <li>unpacking\u7684\u7b2c\u4e8c\u79cd\u65b9\u5f0f\uff1aprefixing an argument with *   unpacking\u7684\u53e6\u4e00\u79cd\u65b9\u5f0f:prefixing an argument with *<pre><code>&gt;&gt;&gt; divmod(20, 8)\n(2, 4)\n&gt;&gt;&gt; t = (20, 8)\n&gt;&gt;&gt; divmod(*t)\n(2, 4)\n</code></pre> \u9664\u4e86\u4e0a\u9762\u6240\u793a\uff0c*\u8fd8\u6709\u4ee5\u4e0b\u7684\u4e00\u4e9b\u4f5c\u7528\uff1a</li> <li>\u4f7f\u7528*\u53bb\u9664\u591a\u4f59\u7684\u5143\u7d20   \u4f7f\u7528*\u53bb\u9664\u591a\u4f59\u7684\u5143\u7d20<pre><code>&gt;&gt;&gt; a, b, *rest = range(5)\n&gt;&gt;&gt; a, b, rest\n(0, 1, [2, 3, 4])\n&gt;&gt;&gt; a, b, *rest = range(3)\n&gt;&gt;&gt; a, b, rest\n(0, 1, [2])\n&gt;&gt;&gt; a, b, *rest = range(2)\n&gt;&gt;&gt; a, b, rest\n(0, 1, [])\n&gt;&gt;&gt; a, *body, c, d = range(5)\n&gt;&gt;&gt; a, body, c, d\n(0, [1, 2], 3, 4)\n&gt;&gt;&gt; *head, b, c, d = range(5)\n&gt;&gt;&gt; head, b, c, d\n([0, 1], 2, 3, 4)\n</code></pre></li> </ul>"},{"location":"CS/fluent_python/chapter_2.html#pattern-matching-with-sequences","title":"Pattern Matching with Sequences","text":"<p>\u5bf9\u4e8epython 3.10\uff0c\u5176\u5f15\u5165\u4e86<code>match/case</code>\u8bed\u53e5\uff0c\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a match/case\u7684\u4f7f\u7528\u65b9\u6cd5<pre><code>def handle_command(self, message):\n    match message:                    # \u9700\u8981\u8fdb\u884c\u5339\u914d\u7684\u4e3amessage\u53d8\u91cf\u7684\u503c\n        case ['BEEPER', frequency, times]:   # message\u53d8\u91cf\u7684\u503c\u7531\u4e09\u90e8\u5206\u6784\u6210\uff0c\u7b2c\u4e00\u4e2a\u90e8\u5206\u4e00\u5b9a\u662fBEEPER\uff0c\u5c06\u7b2c\u4e8c/\u4e09\u90e8\u5206\u7684\u503c\u5206\u522b\u8d4b\u503c\u7ed9frequency\u548ctimes\u53d8\u91cf\n            self.beep(times, frequency)\n        case ['NECK', angle]:          # message\u53d8\u91cf\u7684\u503c\u7531\u4e24\u90e8\u5206\u6784\u6210\uff0c\u7b2c\u4e00\u4e2a\u90e8\u5206\u4e00\u5b9a\u662fNECK\uff0c\u5c06\u7b2c\u4e8c\u4e2a\u90e8\u5206\u7684\u503c\u8d4b\u503c\u7ed9angle\u53d8\u91cf\n            self.rotate_neck(angle)\n        case _:                    # \u4e0a\u8ff0\u4e24\u79cd\u60c5\u51b5\u90fd\u4e0d\u6ee1\u8db3\n            raise InvalidCommand(message)\n</code></pre> \u6b64\u5916\uff0c\u5728<code>match\\case</code>\u8bed\u53e5\u4e2d\u80fd\u591f\u52a0\u5165\u5bf9\u53d8\u91cf\u7c7b\u578b\u4fe1\u606f\u7684\u5224\u65ad\uff0c\u5982\u4e0b\u6240\u793a\uff1a \u5728match\\case\u8bed\u53e5\u4e2d\u52a0\u5165\u5bf9\u53d8\u91cf\u7c7b\u578b\u4fe1\u606f\u7684\u5224\u65ad<pre><code>case [str(name), _, _, (float(lat), float(lon))]\n# name\u5fc5\u987b\u4e3astr\u7c7b\u578b\uff0clat\u548clon\u90fd\u5fc5\u987b\u4e3afloat\u7c7b\u578b\n</code></pre> \u6b64\u5916\uff0c\u5728<code>match\\case</code>\u8bed\u53e5\u4e2d\u80fd\u591f\u52a0\u5165<code>if</code>\u8bed\u53e5\uff0c\u5982\u4e0b\u6240\u793a\uff1a \u5728match\\case\u8bed\u53e5\u4e2d\u52a0\u5165if\u8bed\u53e5<pre><code>match record:\n    case [name, _, _, (lat, lon)] if lon &lt;= 0:\n        ...\n</code></pre></p>"},{"location":"CS/fluent_python/chapter_2.html#slicing","title":"Slicing","text":"<p>\u5bf9\u4e8e\u4e0b\u8ff0\u7684\u4ee3\u7801 slice\u5bf9\u8c61<pre><code>&gt;&gt;&gt; s = 'bicycle'\n&gt;&gt;&gt; s[0:2]\n'bi'\n</code></pre> \u5b9e\u9645\u4e0a\uff0c\u5728<code>[]</code>\u4e2d\u7684\u90e8\u5206\u4ea7\u751f\u4e86\u4e00\u4e2aslice\u5bf9\u8c61\u3002<code>s[0:2]</code>\u7b49\u4ef7\u4e8e<code>s[slice(0, 2)]</code></p>"},{"location":"CS/fluent_python/chapter_2.html#using-and-with-sequences","title":"Using + and * with Sequences","text":"<p><code>+=</code>\u5b9e\u9645\u4e0a\u662f<code>__iadd__</code>\u65b9\u6cd5\u5728\u8d77\u4f5c\u7528\u3002\u5982\u679c<code>__iadd__</code>\u65b9\u6cd5\u4e0d\u8d77\u4f5c\u7528\uff0c\u5c06\u8c03\u7528<code>__add__</code>\u65b9\u6cd5\uff0c\u5373<code>a += b</code>\u5c06\u8f6c\u6362\u4e3a<code>a = a + b</code>\u3002<code>a + b</code>\u9996\u5148\u88ab\u8ba1\u7b97\uff0c\u7136\u540e\u5c06\u8be5\u8ba1\u7b97\u7684\u7ed3\u679c\u6346\u7ed1\u5230\u53d8\u91cf<code>a</code>\u4e0a\u3002\u5bf9\u4e8emutable sequences\uff0ca+b\u5c06\u88ab\u6346\u7ed1\u5230a\u4e0a\uff0c<code>id(a)</code>\u4e0d\u53d1\u751f\u53d8\u5316\uff0c\u800c\u5bf9\u4e8eimmutable sequences\uff0ca+b\u4e0d\u80fd\u88ab\u6346\u7ed1\u5230a\u4e0a\uff0c\u56e0\u6b64<code>id(a)</code>\u53d1\u751f\u53d8\u5316\u3002<code>*=</code>\u7684\u64cd\u4f5c\u4e0e<code>+=</code>\u7c7b\u4f3c\u3002</p>"},{"location":"CS/fluent_python/chapter_2.html#when-a-list-is-not-the-answer","title":"When a List Is Not the Answer","text":"<ul> <li>Arrays</li> </ul> <p>\u5982\u679clist\u4e2d\u53ea\u6709\u6570\u5b57\uff0c\u90a3\u4e48<code>array.array</code>\u662f\u4e00\u4e2a\u66f4\u6709\u6548\u7387\u7684\u9009\u62e9\u3002   array.array\u7528\u6cd5\u793a\u4f8b<pre><code>&gt;&gt;&gt; from array import array\n&gt;&gt;&gt; from random import random\n&gt;&gt;&gt; floats = array('d', (random() for i in range(10**7)))  # \u4ece\u751f\u6210\u5668\u8868\u8fbe\u5f0f\u6784\u9020\u4e00\u4e2a\u53cc\u7cbe\u5ea6\u6d6e\u70b9\u6570\u7684array\n&gt;&gt;&gt; floats[-1]\n0.07802343889111107\n</code></pre></p> <ul> <li> <p>Memory Views</p> </li> <li> <p>Numpy numpy.ndarry\u7528\u6cd5\u793a\u4f8b<pre><code>&gt;&gt;&gt; import numpy as np\n&gt;&gt;&gt; a = np.array(12)\n&gt;&gt;&gt; type(a)\n&lt;class 'numpy.ndarry'&gt;\n</code></pre></p> </li> <li>Deques and Other Queues</li> </ul> <p><code>collections.deque</code>\u4e3a\u53cc\u7aef\u961f\u5217\uff0c\u5373\u5728\u961f\u5217\u7684\u4e24\u7aef\u90fd\u53ef\u4ee5\u589e\u5220\u5143\u7d20\u3002</p>"},{"location":"CS/%E6%9D%82%E8%AE%B0/easy-Shermo%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3.html","title":"easy Shermo\u7a0b\u5e8f\u7f16\u5199\u601d\u8def\u7406\u89e3","text":"<p>\u6700\u5f00\u59cb\uff0c\u6211\u4eec\u662f\u901a\u8fc7\u8fd0\u884c<code>main.py</code>\u6587\u4ef6\u6765\u8fd0\u884c\u8be5\u7a0b\u5e8f\u7684\u3002\u56e0\u6b64\uff0c\u6211\u4eec\u9996\u5148\u4ece<code>main.py</code>\u6587\u4ef6\u6765\u7406\u89e3\u4ee3\u7801\u7684\u7f16\u5199\u601d\u60f3\u3002</p> <pre><code>from config import ShermoConfig\nfrom easyShermo import run_all_shermo\n\n\ndef welcome():\n    \"\"\"\n    \u4e3b\u9875\u9762\u4fe1\u606f\n    \"\"\"\n    hello = \"\"\"\nEasyShermo: A python script to automate the use of Shermo\nVersion 1.2.0  Release date: 2023-Jul-28\nDeveloper: Kimariyb (kimariyb@163.com)\nAddress: XiaMen University, School of Electronic Science and Engineering\nOfficial website: https://github.com/kimariyb/easy-shermo\n    \"\"\"\n    # \u8f93\u51fa\u4e3b\u9875\u9762\u4fe1\u606f\n    print(hello)\n    # \u5728\u542f\u52a8\u65f6\u5c31\u8bfb\u53d6 settings.ini \u5e76\u8fd4\u56de\u5bf9\u8c61\n    shermo_config = ShermoConfig()\n    # \u6253\u5370\u914d\u7f6e\u6587\u4ef6\u4fe1\u606f\n    print(shermo_config)\n    return shermo_config\n\n\ndef main():\n    # \u4e3b\u9875\u9762\n    shermo_config = welcome()\n    # \u8fd0\u884c\u4e3b\u7a0b\u5e8f\n    run_all_shermo(shermo_config)\n\n\nif __name__ == '__main__':\n    main()\n</code></pre> <p>\u5728\u7a0b\u5e8f\u7684\u5f00\u5934\uff0c\u5bfc\u5165\u4e86\u4e00\u4e2a\u7c7b\u548c\u4e00\u4e2a\u51fd\u6570\uff0c\u5206\u522b\u4e3a<code>ShermoConfig</code>\u7c7b\u4e0e<code>run_all_shermo</code>\u51fd\u6570\u3002\u6211\u4eec\u73b0\u5728\u5206\u522b\u6765\u7ec6\u770b\u8fd9\u4e2a\u7c7b\u548c\u8fd9\u4e2a\u51fd\u6570\u7684\u5177\u4f53\u5b9a\u4e49\u3002\u9996\u5148\u662f<code>ShermoConfig</code>\u7c7b\u3002</p> <pre><code>class ShermoConfig:\n    def __init__(self):\n        pass\n\n    def __str__(self):\n        pass\n</code></pre>"},{"location":"CS/%E6%9D%82%E8%AE%B0/easy-Shermo%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3.html#shermoconfig","title":"<code>ShermoConfig</code>\u7c7b","text":"<p>\u6574\u4e2a<code>ShermoConfig</code>\u7c7b\u7684\u5b9a\u4e49\u4e2d\u5305\u62ec\u4e24\u5927\u90e8\u5206\u3002\u7b2c\u4e00\u90e8\u5206\u4e3a<code>__init__</code>\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u7684\u76ee\u7684\u662f\u521d\u59cb\u5316\u5bf9\u8c61\u3002\u5f53\u5bf9\u8c61\u88ab\u521b\u5efa\u540e\uff0c\u8fd9\u4e00\u90e8\u5206\u7684\u4ee3\u7801\u4f1a\u81ea\u52a8\u6267\u884c\u3002\u7b2c\u4e8c\u90e8\u5206\u662f<code>__str__</code>\u65b9\u6cd5\uff0c\u8be5\u65b9\u6cd5\u7684\u76ee\u7684\u662f\u8fd4\u56de\u4e00\u4e2a\u5bf9\u8c61\u7684\u5177\u4f53\u63cf\u8ff0\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u9996\u5148\u6765\u770b<code>__init__</code>\u65b9\u6cd5\u4e2d\u7684\u5177\u4f53\u4ee3\u7801\u3002</p> <pre><code>        self.__settings_path = os.path.join(os.path.dirname(__file__), \"settings.ini\")\n        # \u521b\u5efa ini config \u5bf9\u8c61\n        self.config = configparser.ConfigParser()\n        # \u8bbe\u7f6e\u6ce8\u91ca\u524d\u7f00\n        self.config.comment_prefixes = ';'\n        # \u8bfb\u53d6 ini \u6587\u4ef6\u7684\u914d\u7f6e\n        self.config.read(self.__settings_path)\n        # \u5c06\u914d\u7f6e\u8fd4\u56de\u6210\u5bf9\u8c61\n        self.shermo_config = self.config['Shermo']\n        # \u83b7\u53d6\u914d\u7f6e\u9879\n        self.shermoPath = self.shermo_config.get('shermoPath')\n        self.spFile = self.shermo_config.get('spFile')\n        self.prtvib = self.config.get('Shermo', 'prtvib')\n        self.T = self.config.get('Shermo', 'T')\n        self.P = self.config.get('Shermo', 'P')\n        self.sclZPE = self.config.get('Shermo', 'sclZPE')\n        self.sclheat = self.config.get('Shermo', 'sclheat')\n        self.sclS = self.config.get('Shermo', 'sclS')\n        self.sclCV = self.config.get('Shermo', 'sclCV')\n        self.ilowfreq = self.config.get('Shermo', 'ilowfreq')\n        self.ravib = self.config.get('Shermo', 'ravib')\n        self.imode = self.config.get('Shermo', 'imode')\n        self.conc = self.config.get('Shermo', 'conc')\n        self.outshm = self.config.get('Shermo', 'outshm')\n        self.defmass = self.config.get('Shermo', 'defmass')\n</code></pre> <p>\u7b2c\u4e00\u884c\u662f\u5bf9\u79c1\u6709\u5c5e\u6027<code>__settings_path</code>\u8fdb\u884c\u521d\u59cb\u5316\u3002<code>__file__</code>\u4e3a\u6587\u4ef6\u7684\u8def\u5f84\u3002\u4f8b\u5982\uff1a</p> <pre><code>In [1]: __file__\nOut[1]: 'C:\\\\Users\\\\89732\\\\Desktop\\\\gro.py'\n</code></pre> <p>\u800c<code>os.path.dirname(path)</code>\u7684\u4f5c\u7528\u662f\u53bb\u6389\u6587\u4ef6\u540d\uff0c\u8fd4\u56de\u76ee\u5f55\u3002\u7efc\u4e0a\uff0c<code>os.path.dirname(__file__)</code>\u5c31\u662f\u5f97\u5230\u6240\u5904\u6587\u4ef6\u5939\u7684\u7edd\u5bf9\u8def\u5f84\u3002<code>os.path.join(Path1, Path2)</code>\u7528\u4e8e\u6587\u4ef6\u8def\u5f84\u7684\u62fc\u63a5\u3002\u6545\u7b2c\u4e00\u884c\u4e2d\u5c5e\u6027<code>__settings_path</code>\u50a8\u5b58\u7740<code>settings.ini</code>\u6587\u4ef6\u7684\u7edd\u5bf9\u8def\u5f84\u3002</p> <p>\u7b2c\u4e8c\u884c\u662f\u521b\u5efa\u4e00\u4e2a<code>config</code>\u5bf9\u8c61\u3002configparser\u662fPython\u6807\u51c6\u5e93\u4e2d\u7528\u6765\u89e3\u6790\u914d\u7f6e\u6587\u4ef6\u7684\u6a21\u5757\u3002</p> <p>\u7b2c\u4e09\u884c\u662f\u8bbe\u7f6e\u914d\u7f6e\u6587\u4ef6\u4e2d\u7684\u6ce8\u91ca\u524d\u7f00\u4e3a<code>;</code></p> <p>\u7b2c\u56db\u884c\u4e3a\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u3002</p> <p>\u7b2c\u4e94\u884c\u4e3a\u5c06\u914d\u7f6e\u8fd4\u56de\u5bf9\u8c61\u3002</p> <p>\u5176\u4f59\u7684\u884c\u4e3a\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u4e2d\u5bf9\u5e94\u7684\u503c\uff0c\u5e76\u5c06\u8be5\u503c\u8d4b\u4e88\u7ed9<code>ShermoConfig</code>\u5bf9\u5e94\u7684\u5c5e\u6027\u3002\u683c\u5f0f\u5982\u4e0b\u6240\u793a\u3002</p> <p><code>self.[attribute]=self.config.get([section], [option])</code></p> <p>\u73b0\u5728\uff0c\u8ba9\u6211\u4eec\u6765\u770b<code>__str__</code>\u65b9\u6cd5\u4e2d\u7684\u5177\u4f53\u4ee3\u7801\u3002</p> <pre><code>return f\"The ShermoConfig is: shermoPath={self.shermoPath}, spFile={self.spFile}, prtvib={self.prtvib}, T={self.T}, \" \\\n               f\"P={self.P}, sclZPE={self.sclZPE}, sclheat={self.sclheat}, sclS={self.sclS}, sclCV={self.sclCV}, \" \\\n               f\"ilowfreq={self.ilowfreq}, ravib={self.ravib}, imode={self.imode}, conc={self.conc}, outshm={self.outshm}, \" \\\n               f\"defmass={self.defmass}\"\n</code></pre> <p>\u8be5\u90e8\u5206\u4ee3\u7801\u5b9a\u4e49\u4e86\u5bf9\u8c61\u7684\u5177\u4f53\u63cf\u8ff0\u3002</p>"},{"location":"CS/%E6%9D%82%E8%AE%B0/easy-Shermo%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3.html#run_all_shermo","title":"<code>run_all_shermo</code>\u51fd\u6570","text":"<p><code>run_all_shermo</code>\u51fd\u6570\u5728<code>easyShermo.py</code>\u4e2d\u3002\u6545\u4e0b\u9762\u6211\u4eec\u6765\u89e3\u91ca<code>easyShermo.py</code>\u4e2d\u7684\u4ee3\u7801\u3002\u5176\u4e2d\uff0c\u5305\u62ec\u4e864\u4e2a\u7c7b\u5b9a\u4e49\uff0c2\u4e2a\u51fd\u6570\u5b9a\u4e49\u3002\u4e0b\u9762\uff0c\u6211\u4eec\u9996\u5148\u5bf9<code>ParserFactory</code>\u7c7b\u8fdb\u884c\u8bf4\u660e\u3002</p> <pre><code>class ParserFactory:\n    def __init__(self):\n        pass\n\n    @staticmethod\n    def create_parser(shermo_config: ShermoConfig):\n        \"\"\"\n        \u5de5\u5382\u65b9\u6cd5\uff0c\u521b\u5efa\u4e00\u4e2a Parser \u5bf9\u8c61\n        :param shermo_config: \u914d\u7f6e\u6587\u4ef6\u5bf9\u8c61\n        :return:\n        \"\"\"\n        if shermo_config.spFile == \"1\":\n            return GaussianParser()\n        elif shermo_config.spFile == \"2\":\n            return OrcaParser()\n        else:\n            raise ValueError(\"Unknown sp file format\")\n</code></pre> <p>\u4ee3\u7801\u4e2d\u5173\u4e8e\u6b64\u7c7b\u6709\u4e00\u4e2a\u65b9\u6cd5\u3002\u8be5\u65b9\u6cd5\u4e3a\u9759\u6001\u65b9\u6cd5(\u5bf9\u5e94\u65b9\u6cd5\u5b9a\u4e49\u4e0a\u9762\u4e00\u884c\u7684<code>@staticmethod</code>)\u3002\u8be5\u65b9\u6cd5\u4e2d\u9700\u8981\u4f20\u5165\u7684\u53d8\u91cf\u4e3a<code>shermo_config</code>\uff0c\u8be5\u53d8\u91cf\u662f\u7c7b<code>ShermoConfig</code>\u7684\u4e00\u4e2a\u5bf9\u8c61\u3002\u968f\u540e\uff0c\u4ee3\u7801\u6839\u636e\u914d\u7f6e\u6587\u4ef6\u4e2d<code>spFile</code>\u7684\u503c\u751f\u6210\u4e0d\u540c\u7684\u5bf9\u8c61\u3002\u82e5<code>spFile=1</code>\uff0c\u5219\u5bf9\u5e94\u7684\u91cf\u5316\u7a0b\u5e8f\u662fGaussian\uff0c\u6b64\u65f6\u751f\u6210\u4e00\u4e2a\u5173\u4e8eGaussian\u7684\u5bf9\u8c61<code>GaussianParser()</code>\u3002\u800c\u82e5<code>spFile</code>=2\uff0c\u5219\u5bf9\u5e94\u7684\u91cf\u5316\u7a0b\u5e8f\u662fORCA\uff0c\u6b64\u65f6\u751f\u6210\u4e00\u4e2a\u5173\u4e8eORCA\u7684\u5bf9\u8c61<code>OrcaParser()</code>\u3002\u5426\u5219\uff0c\u629b\u51fa\u9519\u8bef\u63d0\u793a<code>ValueError</code>\u3002</p> <p>\u4e0b\u9762\u6211\u4eec\u5bf9<code>Parser</code>\u7c7b\u8fdb\u884c\u8bf4\u660e\u3002</p> <pre><code>class Parser:\n    def __init__(self):\n        pass\n\n    def find_energy(self, contents):\n        \"\"\"\n        \u5728\u6587\u4ef6\u5185\u5bb9\u4e2d\u67e5\u627e\u80fd\u91cf\u503c\n        \"\"\"\n        raise NotImplementedError\n\n    def process_files(self, file_pattern):\n        \"\"\"\n        \u5904\u7406\u5339\u914d\u7ed9\u5b9a\u6587\u4ef6\u6a21\u5f0f\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u5355\u70b9\u80fd\n        \"\"\"\n        raise NotImplementedError\n\n    def get_sp(self):\n        \"\"\"\n        \u5f97\u5230\u5355\u70b9\u80fd\n        :return: \u5355\u70b9\u80fd\n        \"\"\"\n        raise NotImplementedError\n</code></pre> <p>\u4e0b\u9762\u6211\u4eec\u5bf9<code>OrcaParser</code>\u7c7b\u8fdb\u884c\u8bf4\u660e\u3002</p> <pre><code>class OrcaParser(Parser):\n    def __init__(self):\n        super().__init__()\n\n    def find_energy(self, contents):\n        \"\"\"\n        \u5728\u6587\u4ef6\u5185\u5bb9\u4e2d\u67e5\u627e\u80fd\u91cf\u503c\n        \"\"\"\n        energy_regex = re.compile(r'FINAL SINGLE POINT ENERGY\\s+(-?\\d+\\.\\d+)')\n        energies = re.findall(energy_regex, contents)\n        if energies:\n            energy = str(energies[-1])\n            return energy\n        else:\n            raise ValueError('No energy found')\n\n    def process_files(self, file_pattern):\n        \"\"\"\n        \u5904\u7406\u5339\u914d\u7ed9\u5b9a\u6587\u4ef6\u6a21\u5f0f\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u5355\u70b9\u80fd\n        \"\"\"\n        files = glob.glob(file_pattern)\n        results = []\n\n        for file in files:\n            try:\n                with open(file, 'r', encoding='utf-8') as f:\n                    contents = f.read()\n                    energy = self.find_energy(contents)\n                    results.append((os.path.basename(file), energy))\n                    print(f'File: {file}, Energy: {energy}')\n            except Exception as e:\n                print(f'Error: Failed to read {file}: {e}')\n\n        return results\n\n    def get_sp(self):\n        \"\"\"\n        \u83b7\u5f97 sp \u76ee\u5f55\u4e0b\u7684\u6240\u6709 orca \u6587\u4ef6\u7684\u5355\u70b9\u80fd\n        :return: \u6240\u6709\u6587\u4ef6\u7684\u5355\u70b9\u80fd\u91cf\u548c\u6587\u4ef6\u540d\u7ec4\u6210\u7684\u5217\u8868\n        \"\"\"\n        print()\n        print('The single point energy: ')\n        dir_path = os.path.join(os.getcwd(), 'sp')\n        return self.process_files(os.path.join(dir_path, '*.out'))\n</code></pre> <p>\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0<code>OrcaParser</code>\u7c7b\u662f<code>Parser</code>\u7684\u5b50\u7c7b\u3002\u5728\u5bf9\u8c61\u521d\u59cb\u5316\u4e2d\uff0c\u5b50\u7c7b<code>OrcaParser</code>\u8986\u76d6\u4e86\u7236\u7c7b<code>Parser</code>\u7684<code>ini</code>\uff0c\u901a\u8fc7<code>super</code>\u53c8\u8c03\u7528\u4e86\u7236\u7c7b\u7684<code>ini</code>\uff0c\u786e\u4fdd\u5b50\u7c7b\u548c\u7236\u7c7b\u7684<code>ini</code>\u90fd\u80fd\u6b63\u5e38\u8fd0\u884c\u3002\u65b9\u6cd5<code>find_energy</code>\u662f\u4e3a\u4e86\u83b7\u5f97\u80fd\u91cf\u503c\uff0c\u5728\u8fd9\u4e4b\u4e2d\u5229\u7528\u4e86\u6b63\u5219\u8868\u8fbe\u5f0f\u3002\u5177\u4f53\u7684\u542b\u4e49\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>\\s:\u7528\u4e8e\u5339\u914d\u5355\u4e2a\u7a7a\u683c\u7b26,\u5305\u62ecTab\u952e\u548c\u6362\u884c\u7b26\n+:\u8868\u793a\u5339\u914d\u524d\u4e00\u4e2a\u5b57\u7b26\u51fa\u73b01\u6b21\u6216\u591a\u6b21\n():\u4ee3\u8868\u4e00\u4e2a\u7ec4,findall\u4f1a\u5c06\u4e0d\u540c\u7ec4\u67e5\u5230\u7684\u5143\u7d20\u6309\u4ee5\u5143\u7ec4\u5f62\u5f0f\u8fd4\u56de\n?:\u5339\u914d\u524d\u4e00\u4e2a\u5b57\u7b26\u96f6\u6b21\u6216\u4e00\u6b21\n\\d:\u4e0e\u4e00\u4e2a\u6570\u5b57\u5b57\u7b26\u5339\u914d,\u7b49\u4ef7\u4e8e[0-9]\n\\.:\u8f6c\u4e49.\n</code></pre> <p>\u65b9\u6cd5<code>process_files</code>\u5904\u7406\u5339\u914d\u7ed9\u5b9a\u6587\u4ef6\u6a21\u5f0f\u7684\u6240\u6709\u6587\u4ef6\uff0c\u5e76\u8fd4\u56de\u5355\u70b9\u80fd\u3002<code>glob.glob(file_pattern)</code>\u51fd\u6570\u5339\u914d\u6240\u6709\u7b26\u5408\u6761\u4ef6\u7684\u6587\u4ef6\uff0c\u5e76\u5c06\u5176\u4ee5list\u7684\u5f62\u5f0f\u8fd4\u56de\u3002<code>os.path.basename(path)</code>\u8fd4\u56de<code>path</code>\u6700\u540e\u7684\u6587\u4ef6\u540d\u3002\u968f\u540e\u8be5\u6587\u4ef6\u540d\u4e0e\u5bf9\u5e94\u7684\u80fd\u91cf\u503c\u6253\u5305\u6210\u4e3a\u4e00\u4e2a\u5143\u7ec4\u88ab\u52a0\u5165\u5230<code>result</code>\u5217\u8868\u4e2d\u3002\u5728<code>except</code>\u540e\u52a0\u4e0a\u4e86<code>as e</code>\u3002<code>as e</code>\u4f5c\u4e3a\u53ef\u9009\u53c2\u6570\uff0c\u8868\u793a\u7ed9\u5f02\u5e38\u7c7b\u578b\u8d77\u4e00\u4e2a\u522b\u540d<code>e</code>\uff0c\u8fd9\u6837\u7684\u597d\u5904\u662f\u65b9\u4fbf\u5728<code>except</code>\u5757\u4e2d\u8c03\u7528\u5f02\u5e38\u7c7b\u578b\u3002\u65b9\u6cd5<code>get_sp</code>\u662f\u83b7\u5f97\u76ee\u5f55\u4e0b\u6240\u6709ORCA\u6587\u4ef6\u7684\u5355\u70b9\u80fd\u3002<code>os.getcwd()</code>\u662f\u8fd4\u56de\u5f53\u524d\u8fdb\u7a0b\u7684\u5de5\u4f5c\u76ee\u5f55\u3002</p> <p><code>GaussianParser</code>\u7c7b\u4e0e<code>OrcaParser</code>\u7c7b\u7c7b\u4f3c\uff0c\u8fd9\u91cc\u4e0d\u518d\u5c55\u5f00\u89e3\u91ca\u3002</p>"},{"location":"CS/%E6%9D%82%E8%AE%B0/easy-Shermo%E7%A8%8B%E5%BA%8F%E7%BC%96%E5%86%99%E6%80%9D%E8%B7%AF%E7%90%86%E8%A7%A3.html#_1","title":"\u76f8\u5173\u7ec6\u8282\u7406\u89e3","text":"<p>\u2460\u5bf9\u4e8e<code>__name__ == '__main__'</code>\u7684\u7406\u89e3</p> <p>\u5982\u679cpy\u6587\u4ef6\u4f5c\u4e3a\u6a21\u5757\u88ab\u5bfc\u5165\uff0c\u90a3\u4e48<code>__name__</code>\u5c31\u662f\u8be5py\u6587\u4ef6\u7684\u6587\u4ef6\u540d(\u4e5f\u79f0\u6a21\u5757\u540d)\uff1b</p> <p>\u5982\u679cpy\u6587\u4ef6\u76f4\u63a5\u8fd0\u884c\uff0c\u90a3\u4e48<code>__name_-</code>\u9ed8\u8ba4\u7b49\u4e8e\u5b57\u7b26\u4e32<code>'__main__'</code>\u3002</p> <p>\u2461\u5bf9\u4e8e\u914d\u7f6e\u6587\u4ef6\u89e3\u6790\u7684configparser\u5e93</p> <p>\u751f\u6210\u914d\u7f6e\u6587\u4ef6\u7684\u4ee3\u7801\u5982\u4e0b</p> <pre><code>import configparser                           #\u5bfc\u5165\u6a21\u5757\n\nconfig = configparser.ConfigParser()          #\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\n\nconfig[\"GROMACS\"] = {                         \n    'T': '300',\n    'P': '1'    \n}\n\nconfig[\"ORCA\"] = {\n     'method': 'DFT',\n     'functional': 'B3LYP',\n     'basis_set': '6-311G'\n}\n\nwith open('config.ini', 'w') as configfile:\n    config.write(configfile)\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5f97\u5230\u7684<code>config.ini</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>[GROMACS]\nt = 300\np = 1\n\n[ORCA]\nmethod = DFT\nfunctional = B3LYP\nbasis_set = 6-311G\n</code></pre> <p>\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import configparser\n\nconfig = configparser.ConfigParser()                 #\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\n\nconfig.read('config.ini')                            #\u8bfb\u53d6\u914d\u7f6e\u6587\u4ef6\nsections = config.sections()                         #\u83b7\u53d6\u914d\u7f6e\u6587\u4ef6\u4e2d\u6240\u6709\u7684sections\uff0c\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\u8fd4\u56de\nprint(sections)\n\nvalue = config.get('GROMACS', 't')                   #\u83b7\u53d6[GROMACS]\u4e0bt\u5b57\u6bb5\u5bf9\u5e94\u7684\u503c\nprint(value)\n\nitem = config.items('ORCA')                          #\u83b7\u53d6[ORCA]\u4e0b\u5bf9\u5e94\u7684\u952e\u503c\u5bf9\uff0c\u8fd4\u56de\u5f62\u5f0f[(keys, values)]\nprint(item)\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5f97\u5230\u4e0b\u5217\u7684\u7ed3\u679c\u3002</p> <pre><code>['GROMACS', 'ORCA']\n300\n[('method', 'DFT'), ('functional', 'B3LYP'), ('basis_set', '6-311G')]\n</code></pre> <p>\u4fee\u6539\u914d\u7f6e\u6587\u4ef6\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import configparser\n\nconfig = configparser.ConfigParser()                 #\u5b9e\u4f8b\u5316\u4e00\u4e2a\u5bf9\u8c61\n\nconfig.read('config.ini')\nconfig.add_section('VASP')                           #\u589e\u52a0VASP\u8fd9\u4e2asection\n\nconfig.remove_section('GROMACS')                     #\u5220\u9664GROMACS\u8fd9\u4e2asection\nconfig.remove_option('ORCA', 'method')               #\u5220\u9664ORCA\u8fd9\u4e2asection\u4e0b\u7684method\u5b57\u6bb5\n\nconfig.set('ORCA','functional','LDA')                #\u5c06ORCA\u8fd9\u4e2asection\u4e0b\u7684functional\u503c\u8bbe\u7f6e\u4e3aLDA\nwith open('config.ini', 'w') as configfile:\n    config.write(configfile)\n</code></pre> <p>\u8fd0\u884c\u8be5\u4ee3\u7801\u540e\uff0c\u5f97\u5230\u7684<code>config.ini</code>\u6587\u4ef6\u5185\u5bb9\u5982\u4e0b\uff1a</p> <pre><code>[ORCA]\nfunctional = LDA\nbasis_set = 6-311G\n\n[VASP]\n</code></pre> <p>\u2462\u5bf9\u4e8esubprocess\u5e93\u7684\u76f8\u5173\u7406\u89e3</p> <p>subprocess\u5e93\u7684\u4f5c\u7528\u662f\u80fd\u591f\u5229\u7528python\u7a0b\u5e8f\u53bb\u8fd0\u884c\u5176\u4ed6\u7684\u7a0b\u5e8f\u6216\u8005\u547d\u4ee4\u3002\u6b64\u5916\uff0csubprocess\u5e93\u8fd8\u80fd\u591f\u91cd\u5b9a\u5411\u8fdb\u7a0b\u7684\u8f93\u5165\u4e0e\u8f93\u51fa\uff0c\u8fd9\u610f\u5473\u7740\u6211\u4eec\u80fd\u591f\u63a7\u5236\u4ec0\u4e48\u6570\u636e\u88ab\u4f20\u5165\u8fdb\u7a0b\u4e2d\u548c\u4ece\u8fdb\u7a0b\u4e2d\u83b7\u53d6\u4ec0\u4e48\u6570\u636e\u3002</p> <p>Example 1:\u8fd0\u884cShell\u547d\u4ee4</p> <p><code>subprocess.run()</code>\u65b9\u6cd5\u662f\u4e00\u79cd\u7b80\u4fbf\u8fd0\u884c\u5b50\u8fdb\u7a0b\u7684\u65b9\u5f0f\uff0c\u5176\u5c06\u4e00\u76f4\u7b49\u5f85\uff0c\u76f4\u5230\u5b50\u8fdb\u7a0b\u8fd0\u884c\u5b8c\u6210\u3002\u5176\u6709\u4ee5\u4e0b\u7684\u51e0\u4e2a\u53c2\u6570\uff1a</p> <p><code>args</code>\uff1a\u5c06\u8981\u8fd0\u884c\u7684\u547d\u4ee4\u548c\u5176\u7684\u53c2\u6570\uff0c\u4ee5\u5217\u8868\u7684\u5f62\u5f0f\u4f20\u5165\u3002</p> <p><code>capture_output</code>\uff1a\u5f53\u8bbe\u7f6e\u4e3a<code>True</code>\u65f6\uff0c\u5c06\u83b7\u53d6\u6807\u51c6\u8f93\u51fa\u4e0e\u6807\u51c6\u9519\u8bef\u3002</p> <p><code>text</code>\uff1a\u5f53\u8bbe\u7f6e\u4e3a<code>True</code>\u65f6\uff0c\u6807\u51c6\u8f93\u51fa\u4e0e\u6807\u51c6\u9519\u8bef\u5c06\u4ee5\u5b57\u7b26\u4e32\u7684\u5f62\u5f0f\u8f93\u51fa\uff0c\u5426\u5219\u5c06\u4ee5\u5b57\u8282\u7684\u5f62\u5f0f\u8f93\u51fa\u3002</p> <p><code>check</code>\uff1a\u5e03\u5c14\u503c\u3002\u8be5\u503c\u51b3\u5b9a\u662f\u5426\u68c0\u67e5\u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u7801(return code of the subprocess)\u3002\u5982\u679c\u8be5\u503c\u4e3a<code>True</code>\uff0c\u5982\u679c\u8fd4\u56de\u7801\u975e\u96f6\uff0c\u5c06\u8fd4\u56de<code>CalledProcessError</code>\u9519\u8bef\u3002</p> <p><code>timeout</code>\uff1a\u79d2\u6570\u3002\u5728\u8d85\u65f6\u4e4b\u524d\u7b49\u5f85\u5b50\u8fdb\u7a0b\u5b8c\u6210\u7684\u65f6\u95f4\u3002</p> <p><code>shell</code>\uff1a\u5e03\u5c14\u503c\u3002\u662f\u5426\u5728shell\u4e2d\u8fd0\u884c\u547d\u4ee4\u3002\u8fd9\u610f\u5473\u7740\u547d\u4ee4\u662f\u4ee5\u5b57\u7b26\u4e32\u5f62\u5f0f\u4f20\u9012\u7684\uff0c\u5e76\u4e14\u53ef\u4ee5\u4f7f\u7528\u7279\u5b9a\u4e8eshell\u7684\u529f\u80fd\uff0c\u5982\u901a\u914d\u7b26\u6269\u5c55\u548c\u53d8\u91cf\u66ff\u6362\u3002</p> <p><code>subprocess.run()</code>\u7684\u7ed3\u679c\u662f\u4e00\u4e2a<code>CompletedProcess</code>\u5bf9\u8c61\u3002\u8be5\u7ed3\u679c\u6709\u4ee5\u4e0b\u7684\u5c5e\u6027\u3002</p> <p><code>args</code>\uff1a\u8fd0\u884c\u7684\u547d\u4ee4\u53ca\u5176\u53c2\u6570</p> <p><code>returncode</code>\uff1a\u5b50\u8fdb\u7a0b\u7684\u8fd4\u56de\u7801</p> <p><code>stdout</code>\uff1a\u6807\u51c6\u8f93\u51fa</p> <p><code>stderr</code>\uff1a\u6807\u51c6\u9519\u8bef</p> <pre><code>import subprocess\n\nresult = subprocess.run([\"dir\"], shell=True, capture_output=True, text=True)\nprint(\"args:\")\nprint(result.args)\nprint(\"returncode:\")\nprint(result.returncode)\nprint(\"stdout:\")\nprint(result.stdout)\nprint(\"stderr:\")\nprint(result.stderr)\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>args:\n['dir']\nreturncode:\n0\nstdout:\n \u9a71\u52a8\u5668 C \u4e2d\u7684\u5377\u662f Windows-SSD\n ......\nstderr:\n</code></pre> <p>Example 2:\u8fd0\u884cpython\u811a\u672c</p> <p>\u521b\u5efa\u4e00\u4e2a\u540d\u4e3atest.py\u7684python\u811a\u672c\uff0c\u5185\u5bb9\u5982\u4e0b\uff1a</p> <p><code>print(\"Hello World\")</code></p> <p>\u4e3b\u7a0b\u5e8f\u7684\u4ee3\u7801\u5982\u4e0b\uff1a</p> <pre><code>import subprocess\n\nresult = subprocess.run([\"python\", \"test.py\"], shell=True, capture_output=True, text=True)\nprint(\"args:\")\nprint(result.args)\nprint(\"returncode:\")\nprint(result.returncode)\nprint(\"stdout:\")\nprint(result.stdout)\nprint(\"stderr:\")\nprint(result.stderr)\n</code></pre> <p>\u8f93\u51fa\u5982\u4e0b\uff1a</p> <pre><code>args:\n['python', 'test.py']\nreturncode:\n0\nstdout:\nHello World\n\nstderr:\n</code></pre> <p><code>subprocess.Popen()</code>\u662f\u8fd0\u884c\u5b50\u8fdb\u7a0b\u7684\u8f83\u4f4e\u7ea7\u522b\u7684\u63a5\u53e3\uff0c\u800c<code>subprocess.run()</code>\u662f<code>Popen</code>\u7684\u8f83\u9ad8\u7ea7\u522b\u7684\u5305\u88c5\u5668\uff0c\u4f7f\u7528\u8d77\u6765\u66f4\u65b9\u4fbf\u3002\u4e0b\u9762\u662f<code>subprocess.Popen()</code>\u7684\u4e00\u4e2a\u4f8b\u5b50\u3002</p> <pre><code>import subprocess\n\np = subprocess.Popen([\"python\", \"--help\"], stdout=subprocess.PIPE, stderr=subprocess.PIPE, text=True)\n\noutput, errors = p.communicate()\n\nprint(output)\n</code></pre> <p>\u8f93\u51fa\u7ed3\u679c\u5982\u4e0b\uff1a</p> <pre><code>usage: python [option] ... [-c cmd | -m mod | file | -] [arg] ...\nOptions and arguments (and corresponding environment variables):\n-b     : issue warnings about str(bytes_instance), str(bytearray_instance)\n         and comparing bytes/bytearray with str. (-bb: issue errors)\n-B     : don't write .pyc files on import; also PYTHONDONTWRITEBYTECODE=x\n-c cmd : program passed in as string (terminates option list)\n......\n</code></pre> <p><code>Popen</code>\u7c7b\u6709\u4e00\u4e9b\u65b9\u6cd5\u80fd\u591f\u7528\u4e8e\u5bf9\u8fdb\u7a0b\u8fdb\u884c\u64cd\u4f5c\u3002\u4f8b\u5982<code>communicate()</code>\u3001<code>poll()</code>\u3001<code>wait()</code>\u3001<code>terminate()</code>\u548c<code>kill()</code>\u3002\u4f7f\u7528<code>communicate()</code>\u80fd\u591f\u5206\u522b\u5c06\u6807\u51c6\u8f93\u51fa\u4e0e\u6807\u51c6\u9519\u8bef\u5b58\u50a8\u81f3\u5bf9\u5e94\u7684\u53d8\u91cf\u3002</p> <p>\u53c2\u8003\u6750\u6599</p> <p>[1] python <code>__name__=='__main__'</code>\u8be6\u7ec6\u89e3\u91ca [2] \u8bfb\u5199\u914d\u7f6e\u6587\u4ef6\u2014\u2014configparser\u6a21\u5757\u8be6\u89e3 [3] An Introduction to Python Subprocess: Basics and Examples"},{"location":"%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99/%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99.html","title":"\u76f8\u5173\u6750\u6599","text":""},{"location":"%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99/%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99.html#_1","title":"\u91cf\u5b50\u5316\u5b66","text":"<ul> <li>ORCA 5.0.3\u624b\u518c</li> <li>ORCA\u5165\u95e8\u6307\u5bfc</li> </ul>"},{"location":"%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99/%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99.html#_2","title":"\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df","text":"<ul> <li>gromacs 2022.5\u624b\u518c</li> <li>Packmol\u624b\u518c</li> <li>Plumed\u624b\u518c</li> <li>VMD\u624b\u518c</li> <li>gromacs mdp\u6587\u4ef6\u5b57\u6bb5\u89e3\u8bfb</li> </ul>"},{"location":"%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99/%E7%9B%B8%E5%85%B3%E6%9D%90%E6%96%99.html#python","title":"Python\u7f16\u7a0b","text":"<ul> <li>matplotlib\u901f\u67e5\u8868</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"GROMACS\u7684\u4f7f\u7528","text":"<p><code>GROMACS</code>\u662f\u7531\u8377\u5170\u683c\u7f57\u5b81\u6839\u5927\u5b66\u5f00\u53d1\uff0c1991\u5e74\u53d1\u5e03\u6700\u521d\u7248\u672c\u3002\u76ee\u524d\u7531\u745e\u5178\u7687\u5bb6\u7406\u5de5\u5b66\u9662\u548c\u4e4c\u666e\u8428\u62c9\u5927\u5b66\u7ef4\u62a4\u3002<code>GROMACS</code>\u7684\u5b98\u7f51\u4e3ahttps://www.gromacs.org/\u3002\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u7684\u4e00\u822c\u6b65\u9aa4\u5982\u4e0b\uff1a <pre><code>flowchart LR;\n    subgraph GROMACS\u6a21\u62df\n        direction TB\n        subgraph GROMACS\u6240\u9700\u5b8c\u6210\u7684\u4efb\u52a1\n            direction LR\n            \u80fd\u91cf\u6781\u5c0f\u5316 -.-&gt; \u5e73\u8861\u76f8\n            \u5e73\u8861\u76f8 -.-&gt; \u4ea7\u751f\u76f8\n        end\n    end\n\u5efa\u6a21 --&gt; GROMACS\u6240\u9700\u5b8c\u6210\u7684\u4efb\u52a1 --&gt; \u6570\u636e\u5206\u6790\u4e0e\u5904\u7406</code></pre></p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#_1","title":"\u5efa\u6a21","text":"<p>\u76ee\u524d\u5efa\u6a21\u7684\u65b9\u5f0f\u4e3b\u8981\u6709\u4ee5\u4e0b\u7684\u51e0\u79cd\u65b9\u6cd5\uff1a</p> <ul> <li>\u91c7\u7528<code>Packmol</code>\u8fdb\u884c\u5efa\u6a21</li> </ul> <p><code>Packmol</code>\u662f\u4e00\u4e2a\u514d\u8d39\u7684\u3001\u6784\u5efa\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u521d\u59cb\u7ed3\u6784\u7684\u5de5\u5177\u3002\u5173\u4e8e<code>Packmol</code>\u7684\u4f7f\u7528\uff0c\u53ef\u53c2\u8003\u5206\u5b50\u52a8\u529b\u5b66\u521d\u59cb\u7ed3\u6784\u6784\u5efa\u7a0b\u5e8fPackmol\u7684\u4f7f\u7528\u3002\u53e6\u5916\uff0c\u672c\u7f51\u9875\u4e5f\u63d0\u4f9b\u4e86<code>Packmol</code>\u4f7f\u7528\u624b\u518c\u3002</p> <ul> <li>\u91c7\u7528<code>GROMACS</code>\u4e2d\u7684\u547d\u4ee4\u8fdb\u884c\u5efa\u6a21</li> </ul> <p>\u5728<code>GROMACS</code>\u4e2d\uff0c\u5e38\u7528\u7684\u8fdb\u884c\u5efa\u6a21\u7684\u547d\u4ee4\u5982\u4e0b\uff1a</p> <ol> <li> <p><code>gmx solvate</code>\u547d\u4ee4\uff1a\u751f\u6210\u4e00\u4e2a\u5145\u6ee1\u6307\u5b9a\u5206\u5b50\u7684\u76d2\u5b50\uff0c\u9ed8\u8ba4\u6dfb\u52a0\u7684\u5206\u5b50\u4e3aSPC\u6c34\u5206\u5b50\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\uff1a <code>gmx solvate -box 2 4 4 -o test.gro</code>\uff1a\u751f\u6210\u4e00\u4e2a\u76d2\u5b50\u957f\u5ea6\u4e3a2 nm * 4 nm * 4 nm\u7684\u88ab\u6c34\u586b\u5145\u7684\u76d2\u5b50\uff0c\u7ed3\u6784\u6587\u4ef6\u4fdd\u5b58\u5230<code>test.gro</code> <code>gmx solavte -cp CL.gro -o solv.gro</code>\uff1a\u5c06<code>CL.gro</code>\u7a7a\u4f59\u90e8\u5206\u7528\u6c34\u5206\u5b50\u8fdb\u884c\u586b\u5145\uff0c\u7ed3\u6784\u6587\u4ef6\u4fdd\u5b58\u5230<code>solv.gro</code></p> </li> <li> <p><code>gmx insert-molecules</code>\u547d\u4ee4\uff1a\u5c06\u6307\u5b9a\u5206\u5b50\u63d2\u5165\u4f53\u7cfb\u7a7a\u9699\u4e2d\uff0c\u6216\u586b\u5145\u4e00\u4e2a\u586b\u5145\u6307\u5b9a\u5206\u5b50\u7684\u76d2\u5b50\u3002</p> <p>\u4e0b\u9762\u662f\u4e00\u4e9b\u4f8b\u5b50\uff1a <code>gmx insert-molecules -f test.gro -ci CL.pdb -o out.gro -nmol 55</code>\uff1a\u5728<code>test.gro</code>\u7ed3\u6784\u7684\u7a7a\u4f59\u90e8\u5206\u586b\u514555\u4e2a<code>CL.pdb</code>\uff0c\u7ed3\u6784\u6587\u4ef6\u4fdd\u5b58\u5230<code>out.gro</code></p> </li> </ol> <ul> <li>\u91c7\u7528VMD\u8fdb\u884c\u5efa\u6a21</li> </ul> <p>\u901a\u5e38\u6211\u4eec\u53ef\u4ee5\u4f7f\u7528VMD\u5bf9\u7ed3\u6784\u8fdb\u884c\u62fc\u63a5\uff0c\u7136\u540e\u5f97\u5230\u62fc\u63a5\u4e4b\u540e\u7684\u7ed3\u6784\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#gromacs","title":"<code>GROMACS</code>\u6a21\u62df","text":"<p>\u8be5\u90e8\u5206\u4e3b\u8981\u5305\u62ec\u80fd\u91cf\u6781\u5c0f\u5316(\u7b80\u79f0em)\u3001\u5e73\u8861\u76f8(\u7b80\u79f0eq)\u548c\u4ea7\u751f\u76f8(\u7b80\u79f0prod)\u4e09\u4e2a\u90e8\u5206\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#_2","title":"\u80fd\u91cf\u6781\u5c0f\u5316","text":"<p>\u80fd\u91cf\u6781\u5c0f\u5316\u7684\u76ee\u7684\u662f\u6d88\u9664\u6a21\u578b\u4e2d\u4e25\u91cd\u4e0d\u5408\u7406\u7684\u63a5\u89e6\u3002\u5176\u6709\u4e24\u79cd\u7b97\u6cd5\uff1a\u6700\u9661\u4e0b\u964d\u6cd5\u4e0e\u5171\u8f6d\u68af\u5ea6\u6cd5\u3002\u4e00\u822c\u6765\u8bf4\uff0c\u5bf9\u4e8e\u96be\u4ee5\u80fd\u91cf\u6781\u5c0f\u5316\u7684\u4f53\u7cfb\u5efa\u8bae\u5148\u4f7f\u7528\u6700\u9661\u4e0b\u964d\u6cd5\uff0c\u7136\u540e\u518d\u4f7f\u7528\u5171\u8f6d\u68af\u5ea6\u6cd5\u3002\u8be5\u6b65\u7684<code>mdp</code>\u6587\u4ef6\u5982\u4e0b\uff1a \u5148\u91c7\u7528\u6700\u9661\u4e0b\u964d\u6cd5<pre><code>define = -DFLEXIBLE\nintegrator = steep\nnsteps = 10000\nemtol  = 1000.0\nemstep = 0.01\n;\nnstxout   = 100\nnstlog    = 50\nnstenergy = 50\n;\npbc = xyz\ncutoff-scheme            = Verlet\ncoulombtype              = PME\nrcoulomb                 = 1.0\nvdwtype                  = Cut-off\nrvdw                     = 1.0\nDispCorr                 = EnerPres\n;\nconstraints              = none\n</code></pre> \u518d\u91c7\u7528\u5171\u8f6d\u68af\u5ea6\u6cd5<pre><code>define = -DFLEXIBLE\nintegrator = cg\nnsteps = 10000\nemtol  = 100.0\nemstep = 0.01\n;\nnstxout   = 100\nnstlog    = 50\nnstenergy = 50\n;\npbc = xyz\ncutoff-scheme            = Verlet\ncoulombtype              = PME\nrcoulomb                 = 1.0\nvdwtype                  = Cut-off\nrvdw                     = 1.0\nDispCorr                 = EnerPres\n;\nconstraints              = none\n</code></pre> \u5bf9\u4e8e\u4e00\u822c\u7684\u4f53\u7cfb\uff0c\u53ef\u76f4\u63a5\u4f7f\u7528\u5171\u8f6d\u68af\u5ea6\u7b97\u6cd5\uff0c\u8be5\u6b65\u7684<code>mdp</code>\u6587\u4ef6\u5982\u4e0b\uff1a \u76f4\u63a5\u91c7\u7528\u5171\u8f6d\u68af\u5ea6\u6cd5<pre><code>define = -DFLEXIBLE\nintegrator = cg\nnsteps = 10000\nemtol  = 100.0\nemstep = 0.01\n;\nnstxout   = 100\nnstlog    = 50\nnstenergy = 50\n;\npbc = xyz\ncutoff-scheme            = Verlet\ncoulombtype              = PME\nrcoulomb                 = 1.0\nvdwtype                  = Cut-off\nrvdw                     = 1.0\nDispCorr                 = EnerPres\n;\nconstraints              = none\n</code></pre></p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#_3","title":"\u5e73\u8861\u76f8","text":"<p>\u8be5\u6b65\u7684\u76ee\u7684\u662f\u4f7f\u4f53\u7cfb\u8fbe\u5230\u5145\u5206\u7684\u5e73\u8861\u3002\u5173\u4e8e\u5982\u4f55\u5224\u65ad\u4f53\u7cfb\u662f\u5426\u5e73\u8861\uff0c\u8bf7\u770b\u8c08\u8c08\u600e\u4e48\u5224\u65ad\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u662f\u5426\u8fbe\u5230\u4e86\u5e73\u8861\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#_4","title":"\u4ea7\u751f\u76f8","text":"<p>\u8be5\u6b65\u7684\u76ee\u7684\u662f\u4ea7\u751f\u51fa\u80fd\u591f\u88ab\u7528\u6765\u7edf\u8ba1\u6240\u9700\u5c5e\u6027\u7684\u6570\u636e\u4e0e\u8f68\u8ff9\u3002\u6362\u53e5\u8bdd\u8bf4\uff0c\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u6240\u9700\u7684\u6570\u636e\u5168\u90e8\u5728\u8be5\u6b65\u4e2d\u5b8c\u6210\u53d6\u6837\u3002</p> <p>\u6ce8\u610f</p> <p>\u80fd\u91cf\u6781\u5c0f\u5316\u6b65\u9aa4\u8bf7\u5728\u865a\u62df\u673a\u4e0a\u5b8c\u6210\u3002\u5bf9\u4e8e\u5e73\u8861\u76f8\uff0c\u82e5\u4f53\u7cfb\u8f83\u5c0f\uff0c\u5efa\u8bae\u5728\u865a\u62df\u673a\u4e2d\u5b8c\u6210\u3002\u82e5\u4f53\u7cfb\u8f83\u5927\uff0c\u5efa\u8bae\u5728\u8d85\u7b97\u4e0a\u5b8c\u6210\u3002\u5bf9\u4e8e\u4ea7\u751f\u76f8\uff0c\u5efa\u8bae\u5728\u8d85\u7b97\u4e2d\u5b8c\u6210\u3002</p> <p>\u63d0\u793a</p> <p><code>SubGmx.sh</code>\u8fd0\u884c\u6bcf\u4e2a\u4efb\u52a1\u7528\u4e00\u5f20\u663e\u5361\u548c4\u4e2a\u6838\u3002</p> <p>\u5728\u8d85\u7b97\u4e2d\uff0c\u82e5\u9700\u63d0\u4ea4<code>GROMACS</code>\u8ba1\u7b97\u4efb\u52a1\uff0c\u53ef\u4f7f\u7528<code>SubGmx.sh</code>\u547d\u4ee4\u3002<code>SubGmx.sh</code>\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a <code>SubGmx.sh [name of .tpr file]</code> <code>SubGmx.sh</code>\u540e\u63a5\u4e00\u4e2a\u53c2\u6570\uff0c\u8be5\u53c2\u6570\u4e3a\u9700\u8981\u8fd0\u884c\u7684<code>GROMACS</code>\u7684<code>tpr</code>\u6587\u4ef6\u3002<code>tpr</code>\u6587\u4ef6\u4e00\u822c\u5728\u865a\u62df\u673a\u4e2d\u751f\u6210\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/GROMACS%E7%9A%84%E4%BD%BF%E7%94%A8.html#_5","title":"\u6570\u636e\u5206\u6790\u4e0e\u5904\u7406","text":"<p>\u5bf9\u4e8e\u4e00\u822c\u7684\u7269\u7406\u91cf\uff0c<code>GROMACS</code>\u4e2d\u6709\u81ea\u5e26\u7684\u547d\u4ee4\u53ef\u4ee5\u8fdb\u884c\u6c42\u89e3\u3002\u8f83\u4e3a\u5e38\u89c1\u7684\u5982\u4e0b\uff1a</p> <ul> <li><code>gmx msd</code>\uff1a\u8ba1\u7b97\u5747\u65b9\u4f4d\u79fb</li> <li><code>gmx rdf</code>\uff1a\u8ba1\u7b97\u5f84\u5411\u5206\u5e03\u66f2\u7ebf\u548c\u914d\u4f4d\u6570\u66f2\u7ebf</li> </ul> <p>\u66f4\u591a\u7684\u547d\u4ee4\u8bf7\u770b<code>GROMACS</code>\u624b\u518c\u3002 \u6b64\u5916\uff0c\u8fd8\u53ef\u5229\u7528VMD\u8fdb\u884c\u6570\u636e\u5206\u6790\u6216Python\u5e93(\u4f8b\u5982MDAnalysis)\u8fdb\u884c\u5206\u6790\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/PLUMED%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"PLUMED\u7684\u4f7f\u7528","text":"<p><code>PLUMED</code>\u662f\u7528\u4e8e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u589e\u5f3a\u91c7\u6837\u4e0e\u81ea\u7531\u80fd\u8ba1\u7b97\u7684\u7a0b\u5e8f\u3002\u8be5\u7a0b\u5e8f\u7684\u5b98\u7f51\u4e3ahttps://www.plumed.org/\u3002\u5728\u5176\u7684\u5b98\u7f51\u4e0a\u6709\u4e30\u5bcc\u7684\u6848\u4f8b\u53ef\u4ee5\u5b66\u4e60\u3002\u5bf9\u4e8e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u800c\u8a00\uff0c\u8ba1\u7b97\u81ea\u7531\u80fd\u7684\u4e00\u822c\u601d\u8def\u662f\u6839\u636e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u83b7\u5f97\u7684\u8f68\u8ff9\u5efa\u7acb\u7edf\u8ba1\u76f4\u65b9\u56fe\u5e76\u4f30\u7b97\u6982\u7387\u7684\u65b9\u6cd5\u6765\u8ba1\u7b97\u5206\u5b50\u4e0d\u540c\u72b6\u6001\u95f4\u7684\u81ea\u7531\u80fd\u5dee\u3002\u4f8b\u5982\uff0c\u5728\u6e29\u5ea6\u4e3a\\(T\\)\u4e0b\uff0c\u4f53\u7cfb\u6709\u4e24\u79cd\u72b6\u6001A\u4e0eB\u3002\u6839\u636e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u83b7\u5f97\u7684\u8f68\u8ff9\u53ef\u4ee5\u8ba1\u7b97\u4f53\u7cfb\u5904\u4e8e\u72b6\u6001A\u4e0eB\u7684\u6982\u7387\u5206\u522b\u4e3a\\(p_{A}\\)\u4e0e\\(p_{B}\\)\uff0c\u90a3\u4e48\u4f53\u7cfb\u4eceA\u8f6c\u5316\u5230B\u7684\u81ea\u7531\u80fd\u53d8\u5316\\(\\Delta\\)\\(G_{A \\rightarrow B}\\)\u4e3a\uff1a $$     \\Delta G_{A \\rightarrow B} = G_{B} - G_{A} = - k_{B} T \\ln \\frac{p_{B}}{p_{A}} $$ \u4e0a\u5f0f\u4e2d\\(k_{B}\\)\u4e3a\u73bb\u5c14\u5179\u66fc\u5e38\u6570\u3002\u5bf9\u4e8e\u4e0a\u5f0f\u800c\u8a00\uff0c\u82e5A\u8f6c\u6362\u5230B\u7684\u80fd\u5792\u5f88\u5927\u65f6\uff0c\u5219\u5728\u53ef\u63a5\u53d7\u7684\u6a21\u62df\u65f6\u95f4\u5c3a\u5ea6\u5185\uff0c\u5728\u8f68\u8ff9\u4e2d\u89c2\u5bdf\u5230\u5927\u91cf\u7684\u4eceA\u5230B\u7684\u8f6c\u5316\u662f\u76f8\u5f53\u56f0\u96be\u7684\u3002\u8fd9\u5c06\u4f1a\u5bfc\u81f4\u65e0\u6cd5\u51c6\u786e\u7edf\u8ba1\\(p_{A}\\)\u4e0e\\(p_{B}\\)\uff0c\u4ece\u800c\u5f71\u54cd\u8ba1\u7b97\u7684\u51c6\u786e\u6027\u3002</p> <p>\u6ce8\u610f</p> <p>\u76ee\u524d\uff0c\u8d85\u7b97\u4e0a\u6709\u4e24\u4e2a\u7248\u672c\u7684<code>PLUMED</code>\u4f9b\u5927\u5bb6\u4f7f\u7528\u3002\u4e00\u4e2a\u7248\u672c\u662f\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\uff0c\u53e6\u4e00\u4e2a\u662f\u5355\u72ec\u7684<code>PLUMED</code>\u3002\u5bf9\u4e8e\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\uff0c\u8be5\u7248\u672c\u7684<code>PLUMED</code>\u4e3b\u8981\u7528\u6765\u8fdb\u884c\u5b9e\u65bd\u6a21\u62df\u8fc7\u7a0b\u4e2d\u7684\u589e\u5f3a\u91c7\u6837\u64cd\u4f5c\uff0c\u800c\u5bf9\u4e8e\u5355\u72ec\u7684<code>PLUMED</code>\uff0c\u8be5\u7248\u672c\u4e3b\u8981\u7528\u6765\u5b9e\u65bd<code>GROMACS</code>\u5df2\u7ecf\u6a21\u62df\u5b8c\u6210\u83b7\u5f97\u8f68\u8ff9\u540e\u7684\u8f68\u8ff9\u5206\u6790\u64cd\u4f5c\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/PLUMED%E7%9A%84%E4%BD%BF%E7%94%A8.html#plumedgromacs","title":"\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\u7684\u4f7f\u7528\u65b9\u6cd5","text":"<p>\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\u4e3b\u8981\u7528\u6765\u5728<code>GROMACS</code>\u6a21\u62df\u7684\u8fc7\u7a0b\u4e2d\u8c03\u7528<code>PLUMED</code>\u800c\u8ba1\u7b97\u81ea\u7531\u80fd\u3002\u82e5\u9700\u8981\u8c03\u7528<code>PLUMED</code>\uff0c\u9700\u8981\u7ed9<code>PLUMED</code>\u4f20\u5165\u4e00\u4e2a\u8f93\u5165\u6587\u4ef6(\u4e0b\u5217\u53d9\u8ff0\u4e2d<code>PLUMED</code>\u7684\u8f93\u5165\u6587\u4ef6\u540d\u9ed8\u8ba4\u4e3a<code>plumed.dat</code>)\u3002<code>plumed.dat</code>\u4e2d\u786e\u5b9a\u4e86\u9700\u8981<code>PLUMED</code>\u5b8c\u6210\u7684\u8ba1\u7b97\u4efb\u52a1\uff0c\u76f8\u5173\u5b57\u6bb5\u53ef\u53c2\u89c1<code>PLUMED</code>\u624b\u518c\u3002\u7531\u4e8e<code>PLUMED</code>\u4e2d\u8fdb\u884c\u589e\u5f3a\u91c7\u6837\u7684\u7b97\u6cd5\u6709\u5f88\u591a\uff0c\u56e0\u6b64\u8fd9\u91cc\u4e0d\u5c55\u5f00\u8fdb\u884c\u53d9\u8ff0\u3002\u4e0b\u9762\u4e3e\u4e00\u4e2a\u5173\u4e8e\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\u7684\u4f7f\u7528\u65b9\u6cd5\u7684\u4f8b\u5b50\u3002</p> <ul> <li>\u80cc\u666f\u4ecb\u7ecd</li> </ul> <p>\u5229\u7528\u4e9a\u7eb3\u7c73\u5b54\u9053\u8fdb\u884c\u79bb\u5b50\u5206\u79bb\u662f\u76ee\u524d\u7684\u4e00\u4e2a\u7814\u7a76\u70ed\u70b9\u3002\u7531\u4e8e\u4e9a\u7eb3\u7c73\u5b54\u9053\u7684\u5c3a\u5bf8\u5f88\u5c0f\uff0c\u56e0\u6b64\u79bb\u5b50\u5e76\u4e0d\u5bb9\u6613\u8fdb\u5165\u5b54\u9053\u4e2d\u3002\u8fd9\u5bfc\u81f4\u5927\u90e8\u5206\u79bb\u5b50\u90fd\u5904\u4e8e\u4e9a\u7eb3\u7c73\u5b54\u9053\u5916\u4fa7\uff0c\u800c\u4e9a\u7eb3\u7c73\u5b54\u9053\u4e2d\u79bb\u5b50\u51fa\u73b0\u7684\u6982\u7387\u8f83\u5c11\u3002\u800c\u4e3a\u4e86\u7814\u7a76\u79bb\u5b50\u5728\u5b54\u9053\u4e2d\u7684\u76f8\u5173\u6027\u8d28\uff0c\u6211\u4eec\u5c31\u5fc5\u987b\u4f7f\u7528\u589e\u5f3a\u91c7\u6837\u6280\u672f\u5c06\u79bb\u5b50\u63a8\u8fdb\u5b54\u9053\u4e2d\uff0c\u4ee5\u6b64\u6765\u63d0\u9ad8\u91c7\u6837\u7684\u51c6\u786e\u6027\u548c\u5145\u5206\u6027\u3002</p> <ul> <li>\u5b9e\u65bd\u7ec6\u8282</li> </ul> <p>\u4e0b\u56fe\u662f\u4e0d\u91c7\u7528\u548c\u91c7\u7528\u589e\u5f3a\u91c7\u6837\u83b7\u5f97\u7684\u79bb\u5b50\u5728\u4e0d\u540c\u533a\u57df\u51fa\u73b0\u7684\u9891\u7387\u3002  </p> \u79bb\u5b50\u5728\u4e0d\u540c\u533a\u57df\u51fa\u73b0\u7684\u9891\u7387 <p>\u4e0a\u8ff0\u7ed3\u679c\u8bf4\u660e\uff0c\u5f53\u91c7\u7528\u589e\u5f3a\u91c7\u6837\u540e\uff0c\u79bb\u5b50\u5728\u5b54\u9053\u5185\u5916\u51fa\u73b0\u7684\u9891\u7387\u65e0\u660e\u663e\u7684\u5dee\u522b\u3002\u4e0a\u8ff0\u7ed3\u679c\u662f\u5728<code>PLUMED</code>\u4e2d\u8fdb\u884cSMD(Steered MD)\u83b7\u5f97\u7684\u3002\u5b8c\u6210\u8be5\u4efb\u52a1\u7684<code>plumed.dat</code>\u6587\u4ef6\u793a\u4f8b\u5185\u5bb9\u5982\u4e0b\uff1a   plumed.dat\u6587\u4ef6\u793a\u4f8b<pre><code># \u9009\u51faindex.ndx\u6587\u4ef6\u4e2dMOL\u7ec4\u4e2d\u7684\u6240\u6709\u539f\u5b50\uff0c\u9700\u8981\u6ce8\u610f\u7684\u662f\u8be5\u8def\u5f84\u4e0b\u4e00\u5b9a\u8981\u5b58\u5728index.ndx\u6587\u4ef6\uff0c\u5426\u5219\u4f1a\u62a5\u9519\nchannel: GROUP NDX_FILE=index.ndx NDX_GROUP=MOL\n# \u83b7\u5f97channel\u8fd9\u4e2a\u6574\u4f53\u7684\u8d28\u5fc3\nc1: CENTER ATOMS=channel\n# \u83b7\u5f971\u53f7\u539f\u5b50\u4e0echannel\u8fd9\u4e2a\u6574\u4f53\u7684\u8d28\u5fc3\u4e4b\u95f4\u7684\u8ddd\u79bb\uff0c\u4e0d\u4f7f\u7528\u5468\u671f\u6027\u8fb9\u754c\u6761\u4ef6\nd: DISTANCE ATOMS=c1,1 NOPBC COMPONENTS\n# \u8bbe\u5b9aSMD\u7684\u76f8\u5173\u8bbe\u7f6e\nrestraint: ...\n      MOVINGRESTRAINT\n      # \u9700\u8981\u65bd\u52a0\u504f\u7f6e\u52bf\u7684\u91cf\u4e3a\u8ddd\u79bb\u5728z\u65b9\u5411\u4e0a\u7684\u5206\u91cf\n      ARG=d.z\n      # \u7b2c0\u6b65\u65f6\uff0c\u8ddd\u79bb\u5728z\u65b9\u5411\u4e0a\u7684\u5206\u91cf\u7684\u7406\u60f3\u503c\u4e3a1 nm\uff0c\u65bd\u52a0\u7684\u504f\u7f6e\u52bf\u4e3a0 kJ/mol/nm^2\n      AT0=1    STEP0=0      KAPPA0=0\n      # \u7b2c5000\u6b65\u65f6\uff0c\u8ddd\u79bb\u5728z\u65b9\u5411\u4e0a\u7684\u5206\u91cf\u7684\u7406\u60f3\u503c\u4e3a1 nm\uff0c\u65bd\u52a0\u7684\u504f\u7f6e\u52bf\u4e3a1000 kJ/mol/nm^2\n      # \u57280\u6b65\u81f35000\u6b65\u4e2d\uff0c\u504f\u7f6e\u52bf\u7ebf\u6027\u589e\u52a0\n      AT1=1    STEP1=5000   KAPPA1=1000\n      # \u5728\u7b2c10000\u6b65\uff0c\u8ddd\u79bb\u5728z\u65b9\u5411\u4e0a\u7684\u5206\u91cf\u7684\u7406\u60f3\u503c\u4e3a-1 nm\uff0c\u65bd\u52a0\u7684\u504f\u7f6e\u52bf\u4e3a1000 kJ/mol/nm^2\n      AT2=-1   STEP2=10000  KAPPA2=1000\n...\n# \u8f93\u51fa\u76f8\u5173\u7269\u7406\u91cf\u81f3COLVAR\u6587\u4ef6\u4e2d\uff0c\u6bcf10000\u6b65\u8f93\u51fa\u4e00\u6b21\nPRINT STRIDE=10000 ARG=* FILE=COLVAR\n</code></pre>   \u6309\u7167\u5e38\u89c4\u7684\u505a\u6cd5\u5728\u865a\u62df\u673a\u4e2d\u83b7\u5f97<code>GROMACS</code>\u7684tpr\u6587\u4ef6\u540e\uff0c\u53ef\u5728\u8d85\u7b97\u4e2d\u5229\u7528<code>Gmx_Plu.sh</code>\u547d\u4ee4\u8c03\u7528\u6253\u4e86<code>PLUMED</code>\u8865\u4e01\u7684<code>GROMACS</code>\u3002 <code>Gmx_Plu.sh</code>\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a <code>Gmx_Plu.sh [name of .tpr file] [name of PLUMED input file]</code>   \u4f8b\u5982\uff1a<code>Gmx_Plu.sh test.tpr plumed.dat</code></p> <p>\u6e29\u99a8\u63d0\u793a</p> <p>\u82e5\u4e0d\u9700\u8981\u5728\u6a21\u62df\u8fc7\u7a0b\u4e2d\u8c03\u7528<code>PLUMED</code>\uff0c\u8bf7\u4f7f\u7528<code>SubGmx.sh</code>\u547d\u4ee4\u63d0\u4ea4\u8ba1\u7b97\u4efb\u52a1\uff0c\u4e0d\u8981\u4f7f\u7528<code>Gmx_Plu.sh</code>\u547d\u4ee4\u63d0\u4ea4\u8ba1\u7b97\u4efb\u52a1\uff0c\u5426\u5219\u8fd0\u7b97\u7684\u6027\u80fd\u4f1a\u53d7\u5230\u635f\u5931\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/PLUMED%E7%9A%84%E4%BD%BF%E7%94%A8.html#plumed","title":"\u5355\u72ec\u7684<code>PLUMED</code>\u7684\u4f7f\u7528\u65b9\u6cd5","text":"<p><code>PLUMED</code>\u5355\u72ec\u4f7f\u7528\u4e00\u822c\u7528\u4e8e<code>GROMACS</code>\u6a21\u62df\u5b8c\u6210\u5f97\u5230\u8f68\u8ff9\u540e\uff0c\u5bf9\u8f68\u8ff9\u7684\u5206\u6790\u3002\u4e0b\u9762\u662f\u4e00\u4e2a\u7b80\u5355\u7684\u4f8b\u5b50\u3002</p> <ul> <li>\u80cc\u666f\u4ecb\u7ecd</li> </ul> <p>\u4e3a\u63a2\u7a76\u67d0\u79cd\u5316\u5b66\u7269\u79cd\u5728\u5b54\u9053\u4e2d\u7684\u5206\u5e03\uff0c\u63a2\u7a76\u5176\u5728\u4e0d\u540c\u65f6\u95f4\u4e0b\u8ddd\u79bb\u5b54\u9053\u4e2d\u8f74\u7ebf\u4e4b\u95f4\u7684\u8ddd\u79bb\u662f\u975e\u5e38\u6709\u5fc5\u8981\u7684\u3002\u8be5\u4f8b\u5b50\u5c31\u662f\u6765\u8ba1\u7b97\u8fd9\u4e2a\u91cf\u7684\u3002</p> <ul> <li>\u5b9e\u65bd\u7ec6\u8282</li> </ul> <p><code>plumed.dat</code>\u6587\u4ef6\u793a\u4f8b\u5185\u5bb9\u5982\u4e0b\uff1a   plumed.dat\u6587\u4ef6\u793a\u4f8b<pre><code># \u4eceindex.ndx\u4e2d\u8bfb\u53d6\u8fd9\u79cd\u5316\u5b66\u7269\u79cd\nion: GROUP NDX_FILE=index.ndx NDX_GROUP=ion\n# \u4eceindex.ndx\u4e2d\u8bfb\u53d6\u5b54\u9053\u539f\u5b50\nMOL: GROUP NDX_FILE=index.ndx NDX_GROUP=MOL\n# \u83b7\u5f97\u5b54\u9053\u7684\u8d28\u5fc3\nc1: CENTER ATOMS=MOL \n# \u6c42\u8fd9\u79cd\u5316\u5b66\u7269\u79cd\u4e0e\u5b54\u9053\u8d28\u5fc3\u4e4b\u95f4\u7684\u5e73\u5747\u8ddd\u79bb(\u53ea\u4fdd\u7559XY\u65b9\u5411\u4e0a\u7684\u5206\u91cf\uff0c\u820d\u5f03Z\u65b9\u5411\u4e0a\u7684\u5206\u91cf)\nd1: XYDISTANCES GROUPA=ion GROUPB=c1 MEAN\n# \u8f93\u51fa\u8ba1\u7b97\u7ed3\u679c\nPRINT ARG=d1.mean STRIDE=1000 FILE=COLVAR\n</code></pre>   \u968f\u540e\uff0c\u5728\u542b\u6709\u8981\u5206\u6790\u7684<code>GROMACS</code>\u7684xtc\u6587\u4ef6\u6240\u5728\u7684\u76ee\u5f55\u6267\u884c<code>SubPlu.sh</code>\u547d\u4ee4\u5373\u53ef\u5355\u72ec\u4f7f\u7528<code>Plumed</code>\u3002 <code>SubPlu.sh</code>\u547d\u4ee4\u7684\u4f7f\u7528\u65b9\u6cd5\u5982\u4e0b\uff1a <code>SubPlu.sh [name of .xtc file] [name of PLUMED input file]</code>   \u4f8b\u5982\uff1a<code>SubPlu.sh test.xtc plumed.dat</code></p> <p>\u6ce8\u610f</p> <p><code>SubPlu.sh</code>\u547d\u4ee4\u6267\u884c<code>PLUMED</code>\u65f6\u5e76\u672a\u8c03\u7528<code>GPU</code>\uff0c\u56e0\u6b64\u53ef\u80fd\u4f1a\u6709\u4e00\u4e9b\u6162\u3002\u53ea\u8981\u8f93\u51fa\u7684\u6587\u4ef6\u4e2d\u4e00\u76f4\u6709\u6570\u636e\u5728\u66f4\u65b0\u5c31\u6ca1\u95ee\u9898\u3002\u51fa\u73b0\u4ee5\u4e0b\u7c7b\u4f3c\u7684\u5185\u5bb9\u8bf4\u660e<code>PLUMED</code>\u8ba1\u7b97\u5b8c\u6210\u3002 <pre><code>PLUMED: 1 Prepare dependencies                        500001     0.137395     0.000000     0.000000     0.000185\nPLUMED: 2 Sharing data                                   501     0.006504     0.000013     0.000006     0.000182\nPLUMED: 3 Waiting for data                               501     0.001033     0.000002     0.000000     0.000008\nPLUMED: 4 Calculating (forward loop)                     501     0.062603     0.000125     0.000091     0.000405\nPLUMED: 5 Applying (backward loop)                       501     0.009490     0.000019     0.000016     0.000029\nPLUMED: 6 Update \n</code></pre></p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E5%88%86%E5%AD%90%E5%8A%A8%E5%8A%9B%E5%AD%A6%E6%A8%A1%E6%8B%9F/PLUMED%E7%9A%84%E4%BD%BF%E7%94%A8.html#_1","title":"\u53c2\u8003\u6750\u6599","text":"<p>[1] Belfast tutorial: Out of equilibrium dynamics [2] PLUMED\u624b\u518c</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/Hessian%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E5%85%B3%E7%90%86%E8%A7%A3.html","title":"Hessian\u77e9\u9635\u7684\u76f8\u5173\u7406\u89e3","text":""},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/Hessian%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E5%85%B3%E7%90%86%E8%A7%A3.html#hessian","title":"\u4ec0\u4e48\u662fHessian\u77e9\u9635","text":"<p>Hessian\u77e9\u9635\\(H\\)\u662f\u4f53\u7cfb\u80fd\u91cf\u5bf9\u539f\u5b50\u5750\u6807\u7684\u4e8c\u9636\u5bfc\u6570\u77e9\u9635\u3002\u5bf9\u4e8e\u542b\u6709\\(N\\)\u4e2a\u539f\u5b50\u7684\u4f53\u7cfb\u7684Hessian\u77e9\u9635\uff0c\u5176\u662f\\(3 N\\)\u7ef4\u7684\u3002\u5bf9\u4e8e\u542b\u67092\u4e2a\u539f\u5b50\\(A\\)\u548c\\(B\\)\u7684\u4f53\u7cfb\uff0c\u4f53\u7cfb\u7684\u80fd\u91cf\u662f\u8fd9\u4e24\u4e2a\u539f\u5b50\u5750\u6807\u7684\u51fd\u6570\uff0c\u5373\\(E=f(x_A,y_A,z_A,x_B,y_B,z_B)\\)\uff0c\u5176\u5bf9\u5e94\u7684Hessian\u77e9\u9635\u5982\u4e0b\u6240\u793a\u3002 $$H =  \\begin{bmatrix}     \\frac{\\partial^2 E}{\\partial^2 x_A} &amp; \\frac{\\partial^2 E}{\\partial x_A \\partial y_A} &amp; \\frac{\\partial^2 E}{\\partial x_A \\partial z_A } &amp; \\frac{\\partial^2 E}{\\partial x_A \\partial x_B } &amp; \\frac{\\partial^2 E}{\\partial x_A \\partial y_B } &amp; \\frac{\\partial^2 E}{\\partial x_A \\partial z_B }\\\\     \\frac{\\partial^2 E}{\\partial y_A \\partial x_A} &amp; \\frac{\\partial^2 E}{\\partial^2 y_A } &amp; \\frac{\\partial^2 E}{\\partial y_A \\partial z_A} &amp; \\frac{\\partial^2 E}{\\partial y_A \\partial x_B} &amp; \\frac{\\partial^2 E}{\\partial y_A \\partial y_B} &amp; \\frac{\\partial^2 E}{\\partial y_A \\partial z_B}\\\\     \\frac{\\partial^2 E}{\\partial z_A \\partial x_A} &amp; \\frac{\\partial^2 E}{\\partial z_A \\partial y_A} &amp; \\frac{\\partial^2 E}{\\partial^2 z_A } &amp; \\frac{\\partial^2 E}{\\partial z_A \\partial x_B } &amp; \\frac{\\partial^2 E}{\\partial z_A \\partial y_B } &amp; \\frac{\\partial^2 E}{\\partial z_A \\partial z_B } \\\\ \\frac{\\partial^2 E}{\\partial x_B \\partial x_A } &amp; \\frac{\\partial^2 E}{\\partial x_B \\partial y_A } &amp; \\frac{\\partial^2 E}{\\partial x_B \\partial z_A } &amp; \\frac{\\partial^2 E}{\\partial^2 x_B} &amp; \\frac{\\partial^2 E}{\\partial x_B \\partial y_B } &amp; \\frac{\\partial^2 E}{\\partial x_B \\partial z_B }\\\\ \\frac{\\partial^2 E}{\\partial y_B \\partial x_A } &amp; \\frac{\\partial^2 E}{\\partial y_B \\partial y_A } &amp; \\frac{\\partial^2 E}{\\partial y_B \\partial z_A } &amp; \\frac{\\partial^2 E}{\\partial y_B \\partial x_B } &amp; \\frac{\\partial^2 E}{\\partial^2 y_B } &amp; \\frac{\\partial^2 E}{\\partial y_B \\partial z_B } \\\\ \\frac{\\partial^2 E}{\\partial z_B \\partial x_A } &amp; \\frac{\\partial^2 E}{\\partial z_B \\partial y_A } &amp; \\frac{\\partial^2 E}{\\partial z_B \\partial z_A } &amp; \\frac{\\partial^2 E}{\\partial z_B \\partial x_B } &amp; \\frac{\\partial^2 E}{\\partial z_B \\partial y_B } &amp; \\frac{\\partial^2 E}{\\partial^2 z_B} \\end{bmatrix} $$</p> <p>\u7531\u4e8e\u4e8c\u9636\u6df7\u5408\u504f\u5bfc\u6570\u5728\u8fde\u7eed\u7684\u6761\u4ef6\u4e0b\u4e0e\u6c42\u5bfc\u7684\u6b21\u6570\u65e0\u5173\uff0c\u56e0\u6b64Hessian\u77e9\u9635\u5e94\u8be5\u662f\u5bf9\u79f0\u7684\u3002\u5f53Hessian\u77e9\u9635\u6240\u6709\u7684\u7279\u5f81\u503c\u5747\u4e3a\u6b63\u65f6\uff0c\u8fd9\u4e2a\u70b9\u662f\u5c40\u90e8\u6700\u5c0f\u503c\u70b9\u3002\u800c\u5f53Hessian\u77e9\u9635\u7684\u6240\u6709\u7279\u5f81\u503c\u5747\u4e3a\u8d1f\u503c\u65f6\uff0c\u8fd9\u4e2a\u70b9\u662f\u5c40\u90e8\u6700\u5927\u503c\u70b9\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/Hessian%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E5%85%B3%E7%90%86%E8%A7%A3.html#gaussianhessian","title":"Gaussian\u4e2d\u7684Hessian\u77e9\u9635","text":"<p>\u5728Gaussian\u7684fch\u6587\u4ef6\u4e2d<code>Cartesian Force Constants</code>\u5b57\u6bb5\u4e0b\u5373\u4e3aHessian\u77e9\u9635\u3002Hessian\u77e9\u9635\u662f\u5bf9\u79f0\u77e9\u9635\uff0cfch\u53ea\u8bb0\u5f55\u4e86\u5176\u4e09\u89d2\u90e8\u5206\u3002\u5229\u7528\u5982\u4e0b\u7684Python\u4ee3\u7801\u80fd\u591f\u8bfb\u53d6\u8fd9\u4e00\u90e8\u5206\u3002 \u8bfb\u53d6Hessian\u77e9\u9635\u7684\u4e09\u89d2\u90e8\u5206<pre><code>if line.startswith('Cartesian Force Constants'):\n    num += 1\n    ls = []\n    while not lines[num].strip().split()[0].startswith('Dipole'):\n        ls.extend(lines[num].strip().split())\n        num += 1\n    j = 0\n    for m in range(3*natoms):\n        for n in range(m+1):\n            Hess[m, n] = float(ls[j])   # Hess\u4e3a\u5b58\u50a8Hessian\u77e9\u9635\u7684\u6570\u7ec4\n            j += 1\n</code></pre> \u968f\u540e\uff0c\u53ef\u4ee5\u4f7f\u7528\u5982\u4e0b\u7684Python\u4ee3\u7801\u83b7\u5f97\u6574\u4e2aHessian\u77e9\u9635\u3002 \u83b7\u5f97\u6574\u4e2aHessian\u77e9\u9635<pre><code>Hess = Hess + Hess.T\nfor i in range(3*natoms):\n    Hess[i, i] /= 2    # \u5bf9\u89d2\u5143\u88ab\u7b97\u4e862\u6b21\n</code></pre> \u5728\u6b64\u57fa\u7840\u4e0a\uff0c\u6211\u4eec\u53ef\u4ee5\u83b7\u5f97\u529b\u5e38\u6570\u77e9\u9635\\(F\\)\u3002\u529b\u5e38\u6570\u77e9\u9635\u662f\u628aHessian\u77e9\u9635\u505a\u8d28\u91cf\u6743\u91cd\u7684\u4ea7\u7269\uff0c\u5982\u4e0b\u5f0f\u6240\u793a\u3002\u4e0b\u5f0f\u4e2d\uff0c\\(M\\)\u662f\u8d28\u91cf\u77e9\u9635\uff0c\u5176\u4e5f\u662f\\(3 N\\)\u7ef4\u7684\u3002\u5176\u76841\u81f33\u53f7\u5bf9\u89d2\u5143\u5bf9\u5e941\u53f7\u539f\u5b50\u8d28\u91cf\uff0c4\u81f36\u53f7\u5bf9\u89d2\u5143\u5bf9\u5e942\u53f7\u539f\u5b50\u8d28\u91cf\uff0c7\u81f39\u53f7\u5bf9\u89d2\u5143\u5bf9\u5e943\u53f7\u539f\u5b50\u8d28\u91cf\u3002 $$ F = M{^{-\\frac{1}{2}}} H M{^{-\\frac{1}{2}}}  $$ $$ F_{i,j} = H_{i,j} / \\sqrt{M_{i,i} M_{j,j}} $$ \u91c7\u7528\u4ee5\u4e0b\u7684Python\u4ee3\u7801\u80fd\u591f\u83b7\u5f97\u8d28\u91cf\u77e9\u9635\u3002 \u6784\u9020\u8d28\u91cf\u77e9\u9635<pre><code>massmat = np.zeros((3*natoms, 3*natoms))\nfor m in range(3*natoms):\n    massmat[m, m] = atom_weight[m//3]\n</code></pre> \u968f\u540e\uff0c\u6211\u4eec\u53ef\u4ee5\u6309\u7167\u4e0a\u9762\u7684\u5f0f\u5b50\u6c42\u5f97\u529b\u5e38\u6570\u77e9\u9635\\(F\\)\u3002 \u8ba1\u7b97\u6c42\u5f97\u529b\u5e38\u6570\u77e9\u9635<pre><code>kmat = np.zeros((3*natoms, 3*natoms))\nfor i in range(3*natoms):\n    for j in range(3*natoms):\n        kmat[i, j] = Hess[i, j] / np.sqrt(massmat[i, i] * massmat[j, j])\n</code></pre> \u5c06\u529b\u5e38\u6570\u77e9\u9635\\(F\\)\u5bf9\u89d2\u5316\u540e\uff0c\u53ef\u4ee5\u5f97\u5230\\(3 N\\)\u4e2a\u672c\u5f81\u503c\u4e0e\\(3 N\\)\u4e2a\u672c\u5f81\u77e2\u3002\u672c\u5f81\u503c\u4e3a\u76f8\u5e94\u6b63\u5219\u6a21\u5f0f\u7684\u529b\u5e38\u6570\u3002\u800c\u672c\u5f81\u77e2\u5219\u4e3a\uff08\u8d28\u6743\uff09\u6b63\u5219\u5750\u6807\u3002\u5bf9\u4e8e\u672c\u5f81\u503c\uff0c\u7531\u4e8e\u76f4\u63a5\u57fa\u4e8eGaussian\u8f93\u51fa\u7684Hessian\u77e9\u9635\u5f97\u5230\u7684\\(\\lambda\\)\u7684\u5355\u4f4d\u662f<code>Hartree/(Bohr^2 amu)</code>\uff0c\u56e0\u6b64\u5728\u8fd9\u91cc\uff0c\u9700\u8981\u5c06\u8be5\u503c\u5148\u8f6c\u6362\u4e3aSI\u5355\u4f4d<code>J/(m^2 kg)</code>\uff0c\u7136\u540e\u901a\u8fc7\u4ee5\u4e0b\u7684\u5f0f\u5b50\u53ef\u4ee5\u6c42\u5f97\u6ce2\u6570\\(k\\)\u3002 $$ \\nu_{i} = \\frac{\\sqrt{\\lambda_{i}}}{2 \\pi} $$ $$ k = \\frac{\\nu_{i}}{c} $$ \\(\\lambda_{i}\\)\u6709\u53ef\u80fd\u4e3a\u8d1f\u503c\u3002\u82e5\\(\\lambda_{i}\\)\u4e3a\u8d1f\u503c\uff0c\u5219\u4e0a\u5f0f\u4e2d\u91c7\u7528\u5176\u7edd\u5bf9\u503c\u8fdb\u884c\u8ba1\u7b97\uff0c\u5e76\u5728\u6700\u7ec8\u8ba1\u7b97\u5f97\u5230\u7684\u6ce2\u6570\\(k\\)\u524d\u6dfb\u52a0\u8d1f\u53f7\u3002 \u83b7\u5f97\u6ce2\u6570<pre><code>eigenvals, eigenvects = np.linalg.eigh(kmat)\n\n# \u8f6c\u6362\u5355\u4f4d\namu2kg=1.66053878E-27\nb2m=0.529177249E-10\nau2J=4.35974434E-18\neigenvals = eigenvals * au2J / (b2m**2) / amu2kg\n\nfreq = np.zeros_like(eigenvals)\nfor i in range(len(eigenvals)):\n    if eigenvals[i] &gt; 0:\n        freq[i] = np.sqrt(eigenvals[i]) / (2*np.pi)\n    else:    # \u5bf9\u5e94\u4e3a\u8d1f\u53f7\u7684\u60c5\u51b5\n        freq[i] = -np.sqrt(-eigenvals[i]) / (2*np.pi)\n\n\nwavenum = freq / 2.99792458E10\n</code></pre> \u800c\u5bf9\u4e8e\u672c\u5f81\u77e2\uff0c\u5176\u672c\u8d28\u662f\u8d28\u6743\u5750\u6807\u4e0b\u7684\u6b63\u5219\u5750\u6807\u3002\u4e3a\u4e86\u80fd\u591f\u5728\u4e09\u7ef4\u5b9e\u7a7a\u95f4\u4e0b\u63cf\u8ff0\u5206\u5b50\u7684\u632f\u52a8\u77e2\u91cf\uff0c\u6211\u4eec\u9700\u8981\u5c06\u8d28\u6743\u5750\u6807\u4e0b\u7684\u6b63\u5219\u5750\u6807\u8f6c\u6362\u4e3a\u975e\u8d28\u6743\u5750\u6807\u4e0b\u7684\u6b63\u5219\u5750\u6807\u3002\u5373\u8d28\u6743\u5750\u6807\u6bcf\u4e2a\u5206\u91cf\u9664\u4ee5\u5bf9\u5e94\u7684\u539f\u5b50\u8d28\u91cf\u7684\u5f00\u6839\u53f7(\u6ce8\uff1a\u672c\u5f81\u77e2\u7684\u6bcf\u4e00\u5217\u5bf9\u5e94\u4e00\u79cd\u632f\u52a8\u6a21\u5f0f\uff0c\u6bcf\u4e09\u884c\u5bf9\u5e94\u4e00\u4e2a\u539f\u5b50)\u3002\u6700\u540e\uff0c\u5bf9\u975e\u8d28\u6743\u6b63\u5219\u5750\u6807\u8fdb\u884c\u5f52\u4e00\u5316(\u4e5f\u5c31\u662f\u8ba9\u6bcf\u4e00\u5217\u4e2d\u6bcf\u4e00\u9879\u7684\u5e73\u65b9\u548c\u5f00\u6839\u53f7\u540e\u4e3a1)\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/Hessian%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E5%85%B3%E7%90%86%E8%A7%A3.html#orcahessian","title":"ORCA\u4e2d\u7684Hessian\u77e9\u9635","text":"<p>ORCA\u4e2d\u7684Hessian\u77e9\u9635\u5728hess\u6587\u4ef6\u4e2d\uff0c\u4e0b\u9762\u662f\u6c34\u5206\u5b50\u5728<code>B3LYP D3 def2-TZVP def2/J RIJCOSX</code>\u8ba1\u7b97\u7ea7\u522b\u4e0b\u8ba1\u7b97\u5f97\u5230\u7684Hessian\u77e9\u9635\u3002 \u91c7\u7528ORCA\u8ba1\u7b97\u83b7\u5f97\u7684\u6c34\u5206\u5b50\u7684Hessian\u77e9\u9635<pre><code> 5.9567517884E-01  -7.7905601664E-02  -7.8412284217E-02  -8.3410358221E-02   1.1385908764E-01          1.1383542002E-01  -5.1226206512E-01  -3.5958323532E-02  -3.5428000001E-02\n-7.7981786482E-02   2.5877636333E-01   2.5847445851E-01   7.1665830745E-02  -2.3668757846E-01         -2.3640435571E-01   6.3166934180E-03  -2.2091937751E-02  -2.2066155911E-02\n-7.8488136634E-02   2.5847401511E-01   2.5845380488E-01   7.1680690283E-02  -2.3644496057E-01         -2.3643454464E-01   6.8081820768E-03  -2.2025113471E-02  -2.2022428532E-02\n-8.3278602468E-02   7.1653703518E-02   7.1668811061E-02   9.9822995970E-02  -1.0675541456E-01          -1.0675437053E-01  -1.6544277567E-02   3.5103678794E-02   3.5087523568E-02\n 1.1391193142E-01  -2.3667048881E-01  -2.3653277288E-01  -1.0675578428E-01   2.3792594227E-01          2.3778792808E-01  -7.1562093268E-03  -1.2584372174E-03  -1.2561139332E-03\n 1.1388826756E-01  -2.3649175448E-01  -2.3641648061E-01  -1.0675473915E-01   2.3778792660E-01          2.3769677711E-01  -7.1335854329E-03  -1.2971298369E-03  -1.2832918101E-03\n-5.1224960973E-01   6.3198683781E-03   6.8112698082E-03  -1.6544361377E-02  -7.1562500452E-03          -7.1336250662E-03   5.2879149150E-01   8.3929705827E-04   3.2530297013E-04\n-3.5943704058E-02  -2.2104228093E-02  -2.2030380262E-02   3.5103700628E-02  -1.2584255588E-03          -1.2971493020E-03   8.3937351990E-04   2.3368625662E-02   2.3324372631E-02\n-3.5413554597E-02  -2.2071391290E-02  -2.2035412540E-02   3.5087545730E-02  -1.2561334558E-03          -1.2832803355E-03   3.2537776998E-04   2.3324372621E-02   2.3324690254E-02\n</code></pre> \u89c2\u5bdf\u4e0a\u8ff0\u77e9\u9635\uff0c\u6211\u4eec\u53d1\u73b0\u5176\u5e76\u4e0d\u662f\u5bf9\u79f0\u77e9\u9635\u3002\u8fd9\u662f\u56e0\u4e3a\u5728\u6784\u5efa\u4ea4\u6362\u76f8\u5173\u9879\u7684\u9759\u6001\u4e8c\u9636\u5bfc\u6570\u65f6\u4ec5\u5305\u542b\u4e86\u683c\u70b9\u6743\u91cd\u7684\u4e00\u9636\u5bfc\u6570\uff0c\u5bfc\u81f4\u4e86Hessian\u7684\u5bf9\u79f0\u6027\u7834\u7f3a\u3002\u5728\u8fd9\u91cc\uff0c\u6211\u4eec\u901a\u8fc7\u4e0b\u9762\u7684\u65b9\u6cd5\u8fdb\u884c\u6570\u503c\u5904\u7406\u3002 <pre><code>hess = ( hess + hess.T ) / 2\n</code></pre> \u5176\u4ed6\u5904\u7406\u65b9\u5f0f\u548cGaussian\u4e2d\u7684Hessian\u77e9\u9635\u5904\u7406\u65b9\u5f0f\u4e00\u81f4\u3002\u4e0b\u9762\u7684Python\u4ee3\u7801\u5c55\u793a\u4e86\u5982\u4f55\u4eceORCA\u8ba1\u7b97\u5f97\u5230\u7684hess\u6587\u4ef6\u6c42\u5f97\u6ce2\u6570\u4e0e\u975e\u8d28\u6743\u7684\u6b63\u5219\u5750\u6807\u3002 \u901a\u8fc7ORCA\u7684hess\u6587\u4ef6\u8ba1\u7b97\u5f97\u5230\u6ce2\u6570<pre><code>import numpy as np\n\nfile = input(\"Input path of a .hess file produced by ORCA\\n\")\nwith open(file, encoding=\"utf-8\") as f:\n    lines = f.readlines()\n    for num, line in enumerate(lines):\n        line = line.strip()\n        if line == \"$hessian\":\n            nhess = int(lines[num+1].strip()) # \u83b7\u53d6Hessian\u77e9\u9635\u7684\u7ef4\u6570\n            hess = np.zeros((nhess, nhess))  # \u751f\u6210Hess\u77e9\u9635\u6a21\u7248\n            for i in range(nhess):\n                for j in range(nhess):\n                    # \u9996\u5148\u5b9a\u4f4d\u6570\u636e\u6240\u5728\u7684\u884c\u6570\n                    row_num = num + 2 + j // 5 *  (nhess + 1) + i + 1\n                    # \u518d\u5b9a\u4f4d\u6570\u636e\u6240\u5728\u7684\u5217\u6570\n                    col_num = j % 5 + 1\n                    # \u63d0\u53d6\u6570\u636e\n                    hess[i, j] = float(lines[row_num].strip().split()[col_num])\n\n        if line == \"$atoms\":\n            natoms = int(lines[num+1].strip())\n            atom_m = np.zeros(natoms)\n            atom_coor = []\n            for i in range(natoms):\n                atom_m[i] = float(lines[num+2+i].strip().split()[1])\n                atom_coor.append(tuple([float(coor) for coor in lines[num+2+i].strip().split()[2:]]))\n            break\n\n# \u5bf9\u79f0Hessian\u77e9\u9635\u540e\u4f7f\u7528\nhess = ( hess + hess.T ) / 2\n\n# \u6784\u5efa\u8d28\u91cf\u77e9\u9635\nm_matix = np.zeros((nhess, nhess))\nfor i in range(nhess):\n    m_matix[i, i] = atom_m[i//3]\n\n# \u83b7\u5f97\u529b\u5e38\u6570\u77e9\u9635\nkmat = np.zeros((nhess, nhess))\nfor i in range(nhess):\n    for j in range(nhess):\n        kmat[i, j] = hess[i, j] / np.sqrt(m_matix[i, i] * m_matix[j, j])\n\n# \u83b7\u5f97\u672c\u5f81\u503c\u4e0e\u672c\u5f81\u77e2\neigenvals, eigenvects = np.linalg.eigh(kmat)\n\n# \u8f6c\u6362\u5355\u4f4d\namu2kg=1.66053878E-27\nb2m=0.529177249E-10\nau2J=4.35974434E-18\neigenvals = eigenvals * au2J / (b2m**2) / amu2kg\n\nfreq = np.zeros_like(eigenvals)\nfor i in range(len(eigenvals)):\n    if eigenvals[i] &gt; 0:\n        freq[i] = np.sqrt(eigenvals[i]) / (2*np.pi)\n    else:\n        freq[i] = -np.sqrt(-eigenvals[i]) / (2*np.pi)\n\nwavenum = freq / 2.99792458E10\nprint(f'\\n{\"Vibrational frequencies:\":=^100}\\n')\nfor i in range(len(wavenum)):\n    print(f'Mode {i+1}: {wavenum[i]:&gt;20.2f} cm**-1')\n\n# \u5c06\u8d28\u6743\u6b63\u5219\u5750\u6807\u8f6c\u6362\u5230\u975e\u8d28\u6743\u7684\u6b63\u5219\u5750\u6807\n# \u672c\u5f81\u77e2\u76841\u81f33\u884c\u5bf9\u5e94\u7b2c\u4e00\u4e2a\u539f\u5b50\uff0c4\u81f36\u884c\u5bf9\u5e94\u7b2c\u4e8c\u4e2a\u539f\u5b50\uff0c\u4ee5\u6b64\u7c7b\u63a8\nfor i in range(eigenvects.shape[0]):\n    # \u8d28\u6743\u6b63\u5219\u5750\u6807\u6bcf\u4e2a\u5206\u91cf\u9664\u4ee5\u5bf9\u5e94\u7684\u539f\u5b50\u8d28\u91cf\u5f00\u6839\u53f7\n    eigenvects[i,:] = eigenvects[i,:] / np.sqrt(atom_m[i//3])\n\n# \u5bf9\u975e\u8d28\u6743\u6b63\u5219\u5750\u6807\u5f52\u4e00\u5316\nfor i in range(eigenvects.shape[1]):\n    eigenvects[:,i] = eigenvects[:,i] / np.sqrt(np.sum(eigenvects[:,i]**2))\n\nprint(f'\\n{\"Normal coordinates:\":=^100}\\n')\nfor i in range(eigenvects.shape[1]):\n    print(f\"Mode {i+1}: \", end=\"\")\n    nor_coor = [ f\"{coor:&gt;8.4f}\" for coor in eigenvects[:,i]]\n    print(\" \".join(nor_coor))\n</code></pre> \u4e0b\u9762\u662f\u901a\u8fc7\u4e0a\u8ff0\u7a0b\u5e8f\u8ba1\u7b97\u5f97\u5230\u7684\u6c34\u5206\u5b50\u7684\u632f\u52a8\u4fe1\u606f\u3002 \u4e0a\u8ff0\u7a0b\u5e8f\u8ba1\u7b97\u5f97\u5230\u7684\u6c34\u5206\u5b50\u7684\u632f\u52a8\u4fe1\u606f<pre><code>======================================Vibrational frequencies:======================================\n\nMode 1:               -14.31 cm**-1\nMode 2:               -12.67 cm**-1\nMode 3:                -0.67 cm**-1\nMode 4:                19.87 cm**-1\nMode 5:                22.62 cm**-1\nMode 6:                32.74 cm**-1\nMode 7:              1616.41 cm**-1\nMode 8:              3781.10 cm**-1\nMode 9:              3885.68 cm**-1\n\n========================================Normal coordinates:=========================================\n\nMode 1:   0.2179  -0.0102  -0.0047   0.7452   0.1020   0.1163   0.2384  -0.3979  -0.3975\nMode 2:   0.0039   0.2323  -0.2361   0.0116   0.6666  -0.6673   0.0045  -0.0201   0.0044\nMode 3:  -0.0737  -0.4080  -0.4022  -0.0751  -0.4087  -0.4021  -0.0737  -0.4087  -0.3993\nMode 4:   0.2296  -0.0386  -0.0388  -0.5260  -0.2087  -0.2028   0.2002   0.5253   0.5166\nMode 5:  -0.0009   0.0372  -0.0380   0.0022  -0.1968   0.1974  -0.0014   0.6752  -0.6808\nMode 6:   0.0002  -0.1131   0.1136  -0.0011   0.6369  -0.6373  -0.0002   0.2855  -0.2846\nMode 7:   0.0412   0.0412   0.0411  -0.6708  -0.1546  -0.1539   0.0182  -0.4987  -0.4983\nMode 8:   0.0283   0.0284   0.0284   0.2557  -0.4661  -0.4659  -0.7052   0.0147   0.0153\nMode 9:  -0.0577   0.0288   0.0288   0.2102  -0.4757  -0.4754   0.7056   0.0188   0.0181\n</code></pre> ORCA\u7684out\u6587\u4ef6\u4e2d\u8f93\u51fa\u7684\u6c34\u5206\u5b50\u632f\u52a8\u4fe1\u606f<pre><code>-----------------------\nVIBRATIONAL FREQUENCIES\n-----------------------\n\nScaling factor for frequencies =  1.000000000  (already applied!)\n\n   0:         0.00 cm**-1\n   1:         0.00 cm**-1\n   2:         0.00 cm**-1\n   3:         0.00 cm**-1\n   4:         0.00 cm**-1\n   5:         0.00 cm**-1\n   6:      1616.39 cm**-1\n   7:      3781.03 cm**-1\n   8:      3885.61 cm**-1\n\n\n------------\nNORMAL MODES\n------------\n\nThese modes are the Cartesian displacements weighted by the diagonal matrix\nM(i,i)=1/sqrt(m[i]) where m[i] is the mass of the displaced atom\nThus, these vectors are normalized but *not* orthogonal\n\n                  0          1          2          3          4          5    \n      0       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      1       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      2       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      3       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      4       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      5       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      6       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      7       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n      8       0.000000   0.000000   0.000000   0.000000   0.000000   0.000000\n                  6          7          8    \n      0       0.041113   0.028322  -0.057699\n      1       0.041167   0.028442   0.028782\n      2       0.041089   0.028389   0.028811\n      3      -0.670736   0.255716   0.210233\n      4      -0.154613  -0.466117  -0.475675\n      5      -0.153820  -0.465937  -0.475441\n      6       0.018186  -0.705251   0.705563\n      7      -0.498791   0.014682   0.018847\n      8      -0.498349   0.015353   0.018145\n</code></pre> \u5bf9\u6bd4\u4e24\u8005\u7684\u7ed3\u679c\uff0c\u6211\u4eec\u53ef\u4ee5\u53d1\u73b0\u4e0a\u8ff0\u7a0b\u5e8f\u8ba1\u7b97\u5f97\u5230\u7684\u6c34\u5206\u5b50\u7684\u632f\u52a8\u4fe1\u606f\u4e2d\u542b\u67096\u4e2a\u8f83\u5c0f\u7684\u6ce2\u6570\uff0c\u8fd9\u5bf9\u5e94\u6c34\u5206\u5b50\u76843\u4e2a\u5e73\u52a8\u6a21\u5f0f\u4e0e3\u4e2a\u8f6c\u52a8\u6a21\u5f0f\uff0c\u5e94\u8be5\u88ab\u65e0\u89c6\u6389\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/Hessian%E7%9F%A9%E9%98%B5%E7%9A%84%E7%9B%B8%E5%85%B3%E7%90%86%E8%A7%A3.html#_1","title":"\u53c2\u8003\u6750\u6599","text":"<p>[1] \u57fa\u4e8efch\u4e2d\u7684Hessian\u77e9\u9635\u8ba1\u7b97\u632f\u52a8\u9891\u7387\u7684\u7b80\u5355\u7a0b\u5e8fHess2freq</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html","title":"ORCA\u4e0eMultiwfn\u8ba1\u7b97RESP\u7535\u8377\u811a\u672c\u5206\u6790","text":"<p>\u200bRESP\u7535\u8377\u662f\u57fa\u4e8e\u62df\u5408\u9759\u7535\u52bf\u83b7\u5f97\u7684\u4e00\u79cd\u539f\u5b50\u7535\u8377\uff0c\u5176\u88ab\u5e7f\u6cdb\u7528\u4e8e\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u4e2d\u3002Multiwfn\u662f\u7531\u5362\u5929\u5f00\u53d1\u7684\u6ce2\u51fd\u6570\u5206\u6790\u7a0b\u5e8f\u3002ORCA\u662f\u4e00\u6b3e\u91cf\u5b50\u5316\u5b66\u7a0b\u5e8f\uff0c\u4f7f\u7528\u4eba\u6570\u4ec5\u6b21\u4e8eGaussian\u3002\u672c\u7bc7\u535a\u6587\u5c06\u8be6\u89e3\u5229\u7528ORCA\u4e0eMultiwfn\u8ba1\u7b97RESP\u7535\u8377\u7684Shell\u811a\u672c\uff0c\u65e8\u5728\u4e3a\u4e0d\u719f\u6089Shell\u811a\u672c\u7684\u8bfb\u8005\u63d0\u4f9b\u4e00\u4e2a\u8ba4\u8bc6Shell\u811a\u672c\u7684\u673a\u4f1a\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#resp","title":"\u5bf9\u4e8eRESP\u7535\u8377\u7684\u76f8\u5173\u7406\u89e3","text":"<p>RESP\u7535\u8377\u662f\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u4e2d\u7684\u4e00\u79cd\u3002\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u901a\u8fc7\u4f7f\u539f\u5b50\u7535\u8377\u80fd\u591f\u5c3d\u53ef\u80fd\u91cd\u73b0\u57fa\u4e8e\u6ce2\u51fd\u6570\u8ba1\u7b97\u7684\u5206\u5b50\u8303\u5fb7\u534e\u8868\u9762\u9644\u8fd1\u548c\u5916\u4fa7\u7684\u9759\u7535\u52bf\u6765\u5f97\u5230\u3002\u7531\u4e8e\u5bf9\u8fd9\u4e9b\u533a\u57df\u7684\u9759\u7535\u52bf\u91cd\u73b0\u6027\u8d8a\u597d\u7684\u539f\u5b50\u7535\u8377\u624d\u80fd\u8d8a\u597d\u5730\u901a\u8fc7\u7ecf\u5178\u7684\u5e93\u4f26\u5b9a\u5f8b\u63cf\u8ff0\u5206\u5b50\u95f4\u7684\u9759\u7535\u76f8\u4e92\u4f5c\u7528\u3002\u800c\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u5728\u539f\u7406\u4e0a\u53c8\u662f\u5bf9\u9759\u7535\u52bf\u91cd\u73b0\u6027\u6700\u597d\u7684\u539f\u5b50\u7535\u8377\uff0c\u56e0\u6b64\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u88ab\u5e7f\u6cdb\u5e94\u7528\u5728\u5206\u5b50\u52a8\u529b\u5b66\u6a21\u62df\u4e2d\u3002\u4e0b\u9762\u5bf9\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u4e2d\u51e0\u79cd\u5178\u578b\u7684\u7535\u8377\u8fdb\u884c\u8bf4\u660e\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#1chelpgcharges-from-electrostatic-potentials-using-a-grid-based-method","title":"1.CHELPG(Charges from electrostatic potentials using a grid based method)\u7535\u8377","text":"CHELPG\u7535\u8377\u8ba1\u7b97\u65b9\u6cd5\u793a\u610f\u56fe <p>\u9996\u5148\uff0c\u5176\u5b9a\u4e49\u4e86\u4e00\u4e2a\u76d2\u5b50\uff0c\u4f7f\u5f97\u76d2\u5b50\u8ddd\u79bb\u5176\u6700\u8fd1\u7684\u539f\u5b50\u7684\u8ddd\u79bb\u4e3a2.8\u57c3\u3002\u5e76\u5c06\u70b9\u5747\u5300\u7684\u6563\u5728\u76d2\u5b50\u4e2d\uff0c\u6bcf\u4e2a\u70b9\u4e4b\u95f4\u7684\u8ddd\u79bb\u4e3a0.3\u57c3\u3002\u5728\u5b9e\u9645\u8ba1\u7b97\u4e2d\uff0c\u53ea\u8003\u8651\u8ddd\u79bb\u539f\u5b50\u6700\u5c0f\u8ddd\u79bb\u5927\u4e8e\u539f\u5b50\u8303\u5fb7\u534e\u534a\u5f84\u5e76\u4e14\u5c0f\u4e8e\u8ddd\u79bb\u6240\u6709\u539f\u5b502.8\u57c3\u4ee5\u5185\u7684\u70b9\u3002\u4e0a\u56fe\u663e\u793a\u7684\u70b9\u5c31\u662f\u6700\u540e\u8003\u8651\u7684\u70b9\u3002\u7136\u540e\uff0c\u6211\u4eec\u8c03\u8282\u6bcf\u4e2a\u539f\u5b50\u4e0a\u7684\u7535\u8377\u4f7f\u5f97\u8fd9\u4e9b\u70b9\u4e0a\u7684\u9759\u7535\u52bf\u4e0e\u6ce2\u51fd\u6570\u8ba1\u7b97\u51fa\u7684\u9759\u7535\u52bf\u5c3d\u53ef\u80fd\u63a5\u8fd1\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#2merz-kollmannmk","title":"2.Merz-Kollmann(MK)\u7535\u8377","text":"<p>MK\u7535\u8377\u4e0eCHELPG\u7535\u8377\u7684\u4e0d\u540c\u4e4b\u5904\u5728\u4e8e\u70b9\u7684\u8bbe\u7f6e\u4e0a\u3002\u5728MK\u7535\u8377\u4e2d\uff0c\u70b9\u5e73\u5747\u5206\u5e03\u5728\u8ddd\u79bb\u6bcf\u4e2a\u539f\u5b501.4\u30011.6\u30011.8\u548c2.0\u500d\u8303\u5fb7\u534e\u534a\u5f84\u7684\u5c42\u4e0a\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#3resprestrained-electrostatic-potential","title":"3.RESP(Restrained ElectroStatic Potential)\u7535\u8377","text":"<p>\u7531\u4e8e\u9759\u7535\u52bf\u62df\u5408\u70b9\u90fd\u5206\u5e03\u5728\u8303\u5fb7\u534e\u8868\u9762\u9644\u8fd1\u53ca\u5916\u4fa7\u4e00\u5b9a\u533a\u57df\u4e2d\uff0c\u56e0\u6b64\u5bf9\u4e8e\u5305\u57cb\u5728\u5185\u90e8\u7684\u539f\u5b50\u800c\u8a00\uff0c\u5b83\u4eec\u8ddd\u79bb\u62df\u5408\u70b9\u8f83\u8fdc\uff0c\u62df\u5408\u7684\u8d28\u91cf\u8f83\u4f4e\uff0c\u6570\u503c\u7684\u4e0d\u786e\u5b9a\u6027\u5927\u3002\u4e3a\u89e3\u51b3\u8fd9\u4e2a\u95ee\u9898\uff0cRESP\u7535\u8377\u7684\u62df\u5408\u5206\u4e3a\u4e24\u6b65\uff1a</p> <p>\u7b2c\u4e00\u6b65\uff1a\u62df\u5408\u7535\u8377\u65f6\u4f7f\u7528\u60e9\u7f5a\u51fd\u6570\u5bf9\u975e\u6c22\u539f\u5b50\u65bd\u52a0\u5f31\u9650\u5236(\u9650\u5236\u8d8a\u5f3a\uff0c\u539f\u5b50\u7535\u8377\u88ab\u62c9\u4f4e\u7684\u503e\u5411\u8d8a\u660e\u663e)\uff0c\u4e0d\u7ea6\u675f\u539f\u5b50\u7684\u7b49\u4ef7\u6027\uff0c\u6240\u6709\u539f\u5b50\u7684\u7535\u8377\u90fd\u80fd\u88ab\u62df\u5408\u3002\u8fd9\u4e00\u6b65\u5141\u8bb8\u539f\u5b50\u7535\u8377\u53d8\u5316\u6709\u6700\u5927\u81ea\u7531\u5ea6\uff0c\u4ee5\u5145\u5206\u8ba9\u6781\u6027\u539f\u5b50\u5c3d\u53ef\u80fd\u597d\u5730\u62df\u5408\u9759\u7535\u52bf\u3002</p> <p>\u7b2c\u4e8c\u6b65\uff1a\u62df\u5408\u7535\u8377\u65f6\u4f7f\u7528\u60e9\u7f5a\u51fd\u6570\u5bf9\u975e\u6c22\u539f\u5b50\u65bd\u52a0\u5f3a\u9650\u5236\uff0c\u53ea\u5141\u8bb8sp<sup>3</sup>\u6742\u5316\u7684\u78b3\u3001\u4e9a\u7532\u57fa\u7684\u78b3\uff0c\u4ee5\u53ca\u5b83\u4eec\u4e0a\u9762\u7684\u6c22\u7684\u7535\u8377\u88ab\u62df\u5408\uff0c\u800c\u5176\u4ed6\u539f\u5b50\u7684\u7535\u8377\u4fdd\u6301\u4e0a\u4e00\u6b65\u6700\u540e\u7684\u72b6\u6001\u3002\u62df\u5408\u8fc7\u7a0b\u4e2d\u8003\u8651\u539f\u5b50\u7684\u7b49\u4ef7\u6027\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#_1","title":"\u811a\u672c\u4ee3\u7801\u89e3\u8bfb","text":"<pre><code># A script to calculate RESP charge based on ORCA and Multiwfn\n# Written by Tian Lu (sobereva@sina.com), last update: 2022-Mar-8\n# Examples:\n# Calculating neutral singlet molecule in water: RESP_ORCA.sh H2O.xyz\n# Calculating anionic singlet molecule in water: RESP_ORCA.sh ani.pdb -1 1\n# Calculating neutral triplet molecule in ethanol: RESP_ORCA.sh nico.xyz 0 3 ethanol\n# Calculating neutral singlet molecule in ETHYL ETHANOATE: RESP_ORCA.sh nico.xyz 0 1 \"ETHYL ETHANOATE\"\n# Calculating cation doublet molecule in vacuum: RESP_ORCA.sh maki.xyz 0 2 gas\n</code></pre> <p>\u811a\u672c\u7684\u5f00\u5934\u4e3a\u5bf9\u811a\u672c\u7684\u76f8\u5173\u8bf4\u660e\u2014\u2014\u811a\u672c\u7684\u7528\u9014\u3001\u811a\u672c\u7f16\u5199\u8005\u3001\u5982\u4f55\u4f7f\u7528\u811a\u672c\u7b49\u3002<code>#</code>\u540e\u63a5\u7684\u4e3a\u6ce8\u91ca\u3002</p> <p><code>#!/bin/bash</code></p> <p>\u8be5\u884c\u547d\u4ee4\u6307\u660e\u628a\u8be5\u811a\u672c\u5f53\u4f5cBash shell\u811a\u672c\u6765\u6267\u884c\uff0c\u4f7f\u7528<code>/bin/bash</code>\u4f5c\u4e3a\u8bed\u6cd5\u7684\u89e3\u91ca\u5668\u3002</p> <pre><code>#Set actual paths of ORCA and orca_2mkl utility here\nORCA=\"/sob/orca503/orca\"\norca_2mkl=\"/sob/orca503/orca_2mkl\"\n\n#Set number of CPU cores used in calculation here\nnprocs=4\nmaxcore=1000\n\nkeyword_opt=\"! B97-3c opt\"\nkeyword_SP=\"! B3LYP/G D3 def2-TZVP def2/J RIJCOSX\"\n</code></pre> <p>\u53d8\u91cf<code>ORCA</code>\u4e3aORCA\u7684\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\uff0c\u53d8\u91cf<code>orca_2mkl</code>\u4e3aORCA\u4e2d<code>orca_2mkl</code>\u547d\u4ee4\u7684\u53ef\u6267\u884c\u6587\u4ef6\u8def\u5f84\u3002ORCA\u4e2d\u547d\u4ee4<code>orca_2mkl</code>\u7684\u4f5c\u7528\u662f\u628aORCA\u8ba1\u7b97\u4ea7\u751f\u7684gbw\u6587\u4ef6\u8f6c\u6362\u4e3amolden\u6587\u4ef6\u3002\u8be5\u547d\u4ee4\u7684\u5177\u4f53\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p><code>orca_2mkl XX -molden</code></p> <p>\u5176\u4e2dXX\u4e3a\u4ea7\u751f\u7684gbw\u6587\u4ef6\u6587\u4ef6\u540d\u524d\u9762\u7684\u90a3\u4e00\u90e8\u5206\u3002\u4f8b\u5982\u4ea7\u751f\u7684gbw\u6587\u4ef6\u540d\u4e3aH2O.gbw\uff0c\u5219XX\u4e3aH2O\u3002</p> <p>\u548c\u6b64\u547d\u4ee4\u7c7b\u4f3c\uff0c<code>orca_2aim</code>\u547d\u4ee4\u5c06ORCA\u8ba1\u7b97\u4ea7\u751f\u7684gbw\u6587\u4ef6\u8f6c\u6362\u4e3awfn\u6587\u4ef6\u3002\u8be5\u547d\u4ee4\u7684\u7528\u6cd5\u5982\u4e0b\uff1a</p> <p><code>orca_2aim XX</code></p> <p><code>nprocs=4</code>\u6307\u8fd0\u884cORCA\u7684\u6838\u6570\u4e3a4\u6838</p> <p><code>maxcore=1000</code>\u6307\u5185\u5b58\u9650\u5236\u4e3a1000 MB (= 1 GB)</p> <p><code>keyword_opt=\"! B97-3c opt\"</code>\u4e3aORCA\u4e2d\u7ed3\u6784\u4f18\u5316\u7684\u5173\u952e\u8bcd\uff0c\u8be5\u811a\u672c\u6240\u4f7f\u7528\u7684\u7ed3\u6784\u4f18\u5316\u8ba1\u7b97\u7ea7\u522b\u4e3a<code>B97-3c</code>\u3002\u5173\u4e8e<code>B97-3c</code>\u7684\u89e3\u91ca\u53ef\u4ee5\u770bhttp://bbs.keinsci.com/thread-13560-1-1.html\u3002</p> <p><code>keyword_SP=\"! B3LYP/G D3 def2-TZVP def2/J RIJCOSX\"</code>\u4e3aORCA\u4e2d\u5355\u70b9\u80fd\u8ba1\u7b97\u7684\u5173\u952e\u8bcd\uff0c\u8be5\u811a\u672c\u6240\u4f7f\u7528\u7684\u5355\u70b9\u80fd\u8ba1\u7b97\u7ea7\u522b\u4e3a<code>B3LYP/G D3 def2-TZVP def2/J RIJCOSX</code>\u3002\u8fd9\u5176\u4e2d<code>B3LYP/G</code>\u662f\u6742\u5316\u6cdb\u51fd\u7684\u7c7b\u578b\u3002\u5728ORCA\u4e2d\u6742\u5316\u6cdb\u51fd<code>B3LYP</code>\u7684\u7c7b\u578b\u6709\u4e24\u79cd\uff0c\u7b2c\u4e00\u79cd\u7684\u5173\u952e\u8bcd\u4e3a<code>B3LYP</code>\uff0c\u8fd9\u662fTurboMole\u7a0b\u5e8f\u4e2d\u6240\u5b9a\u4e49\u7684B3LYP\u6cdb\u51fd\uff0c\u800c\u7b2c\u4e8c\u79cd\u7684\u5173\u952e\u8bcd\u4e3a<code>B3LYP/G</code>\uff0c\u8fd9\u662fGaussian\u7a0b\u5e8f\u4e2d\u6240\u5b9a\u4e49\u7684B3LYP\u6cdb\u51fd\u3002<code>D3</code>\u4e3a\u6dfb\u52a0\u8272\u6563\u6821\u6b63\uff0c\u8fd9\u91cc\u91c7\u7528\u7684\u662fD3\u7684BJ\u963b\u5c3c\u5f62\u5f0f\u3002\u82e5\u9700\u8981\u4f7f\u7528\u96f6\u963b\u5c3c\u5f62\u5f0f\uff0c\u5219\u5e94\u5c06\u6b64\u5904\u7684<code>D3</code>\u6539\u4e3a<code>D3ZERO</code>\u3002\u6b64\u5904\u57fa\u7ec4\u4f7f\u7528\u7684\u662f<code>def2-TZVP</code>\uff0c\u6b64\u5916\u8fd8\u4f7f\u7528\u5230\u4e86\u5bc6\u5ea6\u62df\u5408\u6280\u672f\u4e0e<code>COSX</code>\u3002\u5bc6\u5ea6\u62df\u5408\u8ba1\u7b97\u5fc5\u987b\u8981\u6709\u8f85\u52a9\u57fa\u7ec4\uff0c\u8fd9\u91cc\u7684<code>def2/J</code>\u4e3a\u6b64\u8ba1\u7b97\u7684\u8f85\u52a9\u57fa\u7ec4\u3002<code>/J</code>\u7ed3\u5c3e\u8bf4\u660e\u8be5\u8f85\u52a9\u57fa\u7ec4\u4e13\u95e8\u7528\u4e8e<code>RI-J</code>\u6216\u8005<code>RIJCOSX</code>\u3002</p> <pre><code>export inname=$1\nfilename=${inname%.*}\nsuffix=${inname##*.}\n</code></pre> <p><code>$1</code>\u6307\u8fd9\u4e2a\u811a\u672c\u63a5\u6536\u5230\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u3002\u540c\u7406\uff0c<code>$2</code>\u6307\u8fd9\u4e2a\u811a\u672c\u63a5\u6536\u5230\u7684\u7b2c\u4e8c\u4e2a\u53c2\u6570\u3002<code>$#</code>\u6307\u4f20\u5165\u7684\u53c2\u6570\u603b\u4e2a\u6570\u3002</p> <p><code>filename=${inname%.*}</code>\u6307\u5220\u9664<code>innmae</code>\u4e2d\u6700\u53f3\u8fb9<code>.</code>\u53ca\u5176\u53f3\u8fb9\u6240\u6709\u7684\u5b57\u7b26\u3002</p> <p><code>suffix=${inname##*.}</code>\u6307\u5220\u9664<code>inname</code>\u4e2d\u6700\u53f3\u8fb9<code>.</code>\u53ca\u5176\u5de6\u8fb9\u7684\u6240\u6709\u5b57\u7b26\u3002</p> <p>\u4e3e\u4e00\u4e2a\u4f8b\u5b50\uff0c\u5982\u679c\u8be5\u811a\u672c\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u4e3a<code>maki.pdb</code>\uff0c\u90a3\u4e48\u53d8\u91cf<code>filename</code>\u4e3a<code>maki</code>\uff0c\u800c\u53d8\u91cf<code>suffix</code>\u4e3a<code>pdb</code>\u3002</p> <pre><code>### Parse arguments\nif [ $2 ];then\n    echo \"Net charge = $2\"         # \u4f53\u7cfb\u7684\u51c0\u7535\u8377\n    chg=$2\nelse\n    echo \"Net charge was not defined. Default to 0\"\n    chg=0\nfi\n\nif [ $3 ];then\n    echo \"Spin multiplicity = $3\"  # \u4f53\u7cfb\u7684\u81ea\u65cb\u591a\u91cd\u5ea6\n    multi=$3\nelse\n    echo \"Spin multiplicity was not defined. Default to 1\"\n    multi=1\nfi\n\nif [ \"$4\" ];then\n    if [[ $4 == gas ]] ; then       # \u4f53\u7cfb\u6240\u5904\u7684\u6eb6\u5242\u73af\u5883\n        echo Calculations will be done in vacuum\n        solvent=\"\"\n    else\n        echo Solvent is $4\n    solvent=$4\n    fi\nelse\n    echo \"Solvent name was not defined. Default to water\"\n  solvent=\"Water\"\nfi\n</code></pre> <p>\u8fd9\u91cc\u67093\u4e2a<code>if...fi</code>\u7ed3\u6784\u3002\u7b2c\u4e00\u4e2a<code>if...fi</code>\u7ed3\u6784\u662f\u7528\u6765\u83b7\u53d6\u4f53\u7cfb\u7684\u51c0\u7535\u8377\u3002\u5982\u679c\u8be5\u811a\u672c\u83b7\u5f97\u4e86\u7b2c\u4e8c\u4e2a\u53c2\u6570(\u5373<code>$2</code>)\uff0c\u90a3\u4e48\u51c0\u7535\u8377\u5373\u4e3a\u7b2c\u4e8c\u4e2a\u53c2\u6570\u7684\u503c\u3002\u800c\u5982\u679c\u8be5\u811a\u672c\u6ca1\u6709\u7b2c\u4e8c\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u811a\u672c\u9ed8\u8ba4\u51c0\u7535\u8377\u4e3a0\u3002</p> <p>\u7b2c\u4e8c\u4e2a<code>if...fi</code>\u7ed3\u6784\u662f\u7528\u6765\u83b7\u53d6\u4f53\u7cfb\u7684\u81ea\u65cb\u591a\u91cd\u5ea6\u3002\u81ea\u65cb\u591a\u91cd\u5ea6\u7684\u8ba1\u7b97\u516c\u5f0f\u4e3a\u81ea\u65cb\u591a\u91cd\u5ea6=\u03b1\u7535\u5b50\u6570-\u03b2\u7535\u5b50\u6570+1\u3002\u5982\u679c\u8be5\u811a\u672c\u83b7\u5f97\u4e86\u7b2c\u4e09\u4e2a\u53c2\u6570(\u5373<code>$3</code>)\uff0c\u90a3\u4e48\u4f53\u7cfb\u7684\u81ea\u65cb\u591a\u91cd\u5ea6\u4e3a\u7b2c\u4e09\u4e2a\u53c2\u6570\u7684\u503c\u3002\u800c\u5982\u679c\u8be5\u811a\u672c\u6ca1\u6709\u7b2c\u4e09\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u811a\u672c\u9ed8\u8ba4\u4f53\u7cfb\u7684\u81ea\u65cb\u591a\u91cd\u5ea6\u4e3a1\u3002</p> <p>\u7b2c\u4e09\u4e2a<code>if...fi</code>\u7ed3\u6784\u662f\u7528\u6765\u83b7\u53d6\u6eb6\u5242\u540d\u3002\u5982\u679c\u8be5\u811a\u672c\u83b7\u5f97\u4e86\u7b2c\u56db\u4e2a\u53c2\u6570(\u5373<code>$4</code>)\uff0c\u90a3\u4e48\u8ba1\u7b97\u4e2d\u6240\u7528\u5230\u7684\u6eb6\u5242\u4e3a\u7b2c\u56db\u4e2a\u53c2\u6570\u7684\u503c\u3002\u5982\u679c\u8be5\u811a\u672c\u6ca1\u6709\u7b2c\u56db\u4e2a\u53c2\u6570\uff0c\u90a3\u4e48\u811a\u672c\u9ed8\u8ba4\u6eb6\u5242\u4e3a\u6c34\u3002</p> <pre><code>### Convert current file to tmp.xyz\nMultiwfn $1 &gt; /dev/null &lt;&lt; EOF\n100        # Other functions (Part 1)\n2          # Export various files or generate input file of quantum chemistry programs\n2          # Output current structure to .xyz file\ntmp.xyz    # Input path for outputting xyz file\n0          # Return \nq          # Exit program gracefully\nEOF\n</code></pre> <p>\u8be5\u90e8\u5206\u662f\u8c03\u7528Multiwfn\u5c06\u4f20\u5165\u7684\u539f\u5b50\u5750\u6807\u4fe1\u606f\u6587\u4ef6\u7edf\u4e00\u8f6c\u6362\u4e3axyz\u683c\u5f0f\u3002</p> <p><code>Multiwfn $1</code>\u662f\u542f\u52a8Multiwfn\uff0c\u5e76\u5c06\u8be5\u811a\u672c\u83b7\u53d6\u7684\u7b2c\u4e00\u4e2a\u53c2\u6570\u503c\u4f20\u7ed9Multiwfn\u8fdb\u884c\u540e\u7eed\u5904\u7406\u3002Linux\u4e2d<code>&gt;</code>\u662f\u5c06\u4e00\u6761\u547d\u4ee4\u6267\u884c\u7684\u7ed3\u679c\u91cd\u5b9a\u5411\u5176\u4ed6\u8f93\u51fa\u8bbe\u5907(\u4f8b\u5982\u6587\u4ef6)\u3002\u8fd9\u91cc\u7684<code>Multiwfn $1 &gt; /dev/null</code>\u6307\u628aMultiwfn\u4ea7\u751f\u7684\u6240\u6709\u7ed3\u679c\u90fd\u8f93\u51fa\u5230<code>/dev/null</code>\u3002<code>/dev/null</code>\u662f\u4e00\u4e2a\u7279\u6b8a\u7684\u8bbe\u5907\u6587\u4ef6\uff0c\u8fd9\u4e2a\u6587\u4ef6\u63a5\u6536\u5230\u7684\u4efb\u4f55\u6570\u636e\u90fd\u4f1a\u88ab\u4e22\u5f03\u3002\u4e24\u4e2a<code>EOF</code>\u4e4b\u95f4\u7684\u5185\u5bb9\u5373\u4e3a\u539f\u672c\u5e94\u8be5\u6211\u4eec\u952e\u5165\u4f20\u7ed9Multiwfn\u7684\u4fe1\u606f\u3002\u8fd9\u91cc\u7684<code>EOF</code>\u6539\u7528\u5176\u4ed6\u540d\u5b57\u4e5f\u53ef\u4ee5\u3002\u7528<code>EOF</code>\uff0c\u5373<code>end of file</code>\uff0c\u662f\u5e38\u89c1\u7684\u4e60\u4fd7\u3002</p> <pre><code>### Create input file for optimization (opt.inp)\ncat &lt;&lt; EOF &gt; opt.inp\n$keyword_opt\n%maxcore $maxcore\n%pal nprocs $nprocs end\n%geom Convergence loose end\nEOF\nif [[ $solvent != \"\" ]] ; then\ncat &lt;&lt; EOF &gt;&gt; opt.inp\n%cpcm\nsmd true\nSMDsolvent \"$solvent\"\nend\nEOF\nfi\necho \"* xyz $chg $multi\" &gt;&gt; opt.inp\nawk '{if (NR&gt;2) print }' tmp.xyz &gt;&gt; opt.inp\necho \"*\" &gt;&gt; opt.inp\nrm tmp.xyz\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u9996\u5148\u5c06\u76f8\u5173\u4fe1\u606f\u5199\u5230\u4e86ORCA\u7684\u8f93\u5165\u6587\u4ef6<code>opt.inp</code>\u4e2d\u3002\u7531\u4e8e\u4e2d\u95f4\u5b58\u5728\u4e00\u4e2a\u7528\u4e8e\u5224\u65ad\u4f53\u7cfb\u662f\u5426\u5728\u6c14\u76f8\u4e2d\u7684\u5224\u65ad\uff0c\u56e0\u6b64\u51fa\u73b0\u4e86\u4e24\u5bf9<code>EOF</code>\u3002<code>$keyword_opt</code>\u662f\u83b7\u53d6\u53d8\u91cf<code>keyword_opt</code>\u7684\u503c\u3002\u540c\u7406\uff0c<code>$maxcore</code>\u3001<code>$nprocs</code>\u548c<code>$solvent</code>\u5206\u522b\u4e3a\u83b7\u53d6\u53d8\u91cf<code>maxcore</code>\u3001<code>nprocs</code>\u548c<code>solvent</code>\u7684\u503c\u3002<code>echo \"* xyz $chg $multi\" &gt;&gt; opt.inp</code>\u662f\u5c06<code>* xyz $chg $multi</code>\u8ffd\u52a0\u5199\u5230<code>opt.inp</code>\u7684\u6700\u540e(\u5f53\u7136\uff0c\u53d8\u91cf<code>chg</code>\u548c<code>multi</code>\u7684\u503c\u88ab\u6362\u81f3<code>$chg</code>\u548c<code>$multi</code>\u5904)\u3002<code>awk '{if (NR&gt;2) print }' tmp.xyz &gt;&gt; opt.inp</code>\u662f\u5c06<code>tmp.xyz</code>\u6587\u4ef6\u4e2d\u4ece\u7b2c3\u884c\u5f00\u59cb\u7684\u5185\u5bb9\u5168\u90e8\u5199\u5165\u6587\u4ef6<code>opt.inp</code>\u7684\u6700\u540e\u3002<code>echo \"*\" &gt;&gt; opt.inp</code>\u662f\u5728<code>opt.inp</code>\u7684\u6700\u540e\u8f93\u5165\u4e00\u4e2a<code>*</code>\u3002<code>rm tmp.xyz</code>\u662f\u5c06\u6587\u4ef6<code>tmp.xyz</code>\u5220\u9664\u3002</p> <pre><code>### Run single point\necho Running single point task via ORCA...\n$ORCA SP.inp &gt; SP.out\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u662f\u7528\u6765\u63d0\u4ea4ORCA\u8ba1\u7b97\u4efb\u52a1\u7684\u3002</p> <pre><code>if grep -Fq \"ORCA TERMINATED NORMALLY\" SP.out\nthen                             # \u82e5ORCA\u6b63\u5e38\u5b8c\u6210\u8fd0\u7b97\n    echo Done!                                      \nelse                             # \u82e5ORCA\u672a\u6b63\u5e38\u5b8c\u6210\u8fd0\u7b97\n    echo The single point task has failed! Please check content of SP.out to find reason\n    echo The script is terminated\n    mv SP.out tmp.out\n    rm SP.* SP_*\n    mv tmp.out SP.out\n    exit 1\nfi\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u662f\u7528\u6765\u5224\u65adORCA\u662f\u5426\u6b63\u5e38\u5b8c\u6210\u8fd0\u7b97\u7684\u3002</p> <pre><code>### Convert to .molden file\necho Running orca_2mkl...\n$orca_2mkl SP -molden &gt; /dev/null\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u662f\u7528\u6765\u5c06<code>SP.gbw</code>\u6587\u4ef6\u8f6c\u6362\u6210<code>.molden</code>\u683c\u5f0f\u6587\u4ef6</p> <pre><code>#Field containing number of valence electrons of def2 pseudopotential basis set\ncat &lt;&lt; EOF &gt; Nval.txt\n[Nval]\nRb  9\nSr 10\nY  11\nZr 12\nNb 13\nMo 14\nTc 15\nRu 16\nRh 17\nPd 18\nAg 19\nCd 20\nIn 21\nSn 22\nSb 23\nTe 24\nI  25\nXe 26\nCs  9\nBa 10\nLa 11\nCe 30\nPr 31\nNd 32\nPm 33\nSm 34\nEu 35\nGd 36\nTb 37\nDy 38\nHo 39\nEr 40\nTm 41\nYb 42\nLu 43\nHf 12\nTa 13\nW  14\nRe 15\nOs 16\nIr 17\nPt 18\nAu 19\nHg 20\nTl 21\nPb 22\nBi 23\nPo 24\nAt 25\nRn 26\nEOF\n\ncat Nval.txt SP.molden.input &gt; SP.molden\n</code></pre> <p>\u7531\u4e8edef2\u8d5d\u52bf\u57fa\u7ec4\u7f3a\u5c11\u90e8\u5206\u539f\u5b50\u7684\u4ef7\u5c42\u7535\u5b50\u6570\u4fe1\u606f\uff0c\u6545\u4e0a\u8ff0\u4ee3\u7801\u7684\u76ee\u7684\u5c31\u662f\u628a\u7f3a\u5c11\u7684\u8fd9\u90e8\u5206\u4fe1\u606f\u8865\u5145\u5230<code>.molden</code>\u6587\u4ef6\u5f00\u5934\u3002</p> <pre><code>### Calculate RESP charges\necho Running Multiwfn...\nMultiwfn SP.molden -ispecial 1 &gt; /dev/null &lt;&lt; EOF\n7       # Population analysis and calculation of atomic charges\n18      # Restrained ElectroStatic Potential (RESP) atomic charge\n1       # Start standard two-stage RESP fitting calculation\ny       # If outputting atom coordinates with charges to molden.chg in current folder? (y/n)\n0       # Return\n0       # Return\nq       # Exit program gracefully \nEOF\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u662f\u7528\u6765\u8c03\u7528Multiwfn\u8ba1\u7b97RESP\u7535\u8377\u3002</p> <pre><code>### Finalize\nchgname=${1//$suffix/chg}\nmv SP.chg $chgname\nrm SP.* SP_* Nval.txt\n</code></pre> <p><code>chgname=${1//$suffix/chg}</code>\u662f\u5c06\u8f93\u5165\u6587\u4ef6\u7684\u62d3\u5c55\u540d\u66ff\u6362\u6210<code>chg</code>\u5e76\u4e14\u8bbe\u4e3a<code>chgname</code>\u53d8\u91cf\u3002<code>mv SP.chg $chgname</code>\u662f\u5c06\u6587\u4ef6<code>SP.chg</code>\u8fdb\u884c\u590d\u5236\u64cd\u4f5c\u3002<code>rm SP.* SP_* Nval.txt</code>\u662f\u5220\u9664\u6389\u7a0b\u5e8f\u8fd0\u884c\u4e2d\u4ea7\u751f\u7684\u4e2d\u95f4\u6587\u4ef6\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#_2","title":"\u811a\u672c\u5ef6\u4f38\u62d3\u5c55","text":""},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#1opls-aa12cm5","title":"1.\u5982\u4f55\u8ba1\u7b97\u9002\u7528\u4e8eOPLS-AA\u529b\u573a\u76841.2*CM5\u539f\u5b50\u7535\u8377\uff1f","text":"<p>\u82e5\u9700\u8981\u8ba1\u7b971.2*CM5\u7535\u8377\uff0c\u5219\u811a\u672c\u7684\u5927\u90e8\u5206\u4ee3\u7801\u90fd\u4e0d\u9700\u8981\u8fdb\u884c\u8c03\u6574\uff0c\u9700\u8981\u8c03\u6574\u7684\u4ec5\u4ec5\u662f\u6700\u540e\u8c03\u7528Multiwfn\u8ba1\u7b97\u539f\u5b50\u7535\u8377\u7684\u90e8\u5206\u3002\u8c03\u6574\u540e\u7684\u8be5\u90e8\u5206\u7684\u4ee3\u7801\u5982\u4e0b\u6240\u793a\u3002</p> <pre><code>### Calculate RESP charges\necho Running Multiwfn...\nMultiwfn SP.molden -ispecial 1 &gt; /dev/null &lt;&lt; EOF\n7       # Population analysis and calculation of atomic charges\n-16     # Generate 1.2*CM5 atomic charge      \n1       # Use build-in sphericalized atomic densities in free-states (more convenient)\ny       # If outputting atom coordinates with charges to molden.chg in current folder? (y/n)\n0       # Return\n0       # Return\nq       # Exit program gracefully \nEOF\n</code></pre>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#2","title":"2.\u4eff\u7167\u4e0a\u8ff0\u4ee3\u7801\u7684\u601d\u8def\uff0c\u5982\u4f55\u4e00\u952e\u8f93\u51fa\u5206\u5b50\u8f68\u9053\u4e2d\u5404\u539f\u5b50\u8f68\u9053\u7684\u8d21\u732e\uff1f","text":"<pre><code># A script to get orbital composition\n# Written by Jian Zhang, last update: 2023-Oct-3\n# Example:\n# Orb_Com.sh H2O.molden\n\n#!/usr/bin/bash\n# get number of basis functions\nMultiwfn $1 &lt;&lt; EOF &gt; out.txt\nq\nEOF\nnum=$(grep \"Basis functions:\" out.txt | awk '{print $5}' | awk -F, '{print $1}')\n#echo \"The number of basis functions:\"  $num\nrm out.txt\ncat &lt;&lt; EOF &gt; calcall.txt\n$1\n8\n-1\nall\nq\n1\nEOF\nfor ((i=1;i&lt;=$num;i=i+1))\ndo\ncat &lt;&lt; EOF &gt;&gt; calcall.txt \n$i\nEOF\ndone\ncat &lt;&lt; EOF &gt;&gt; calcall.txt \n0\n-10\nq\nEOF\nMultiwfn &lt; calcall.txt &gt;  result.txt\nrm calcall.txt\n</code></pre> <p>\u4e0a\u8ff0\u4ee3\u7801\u8fd8\u5e76\u4e0d\u5b8c\u7f8e\uff0c\u540e\u7eed\u4f1a\u5728\u6b64\u57fa\u7840\u4e0a\u8fdb\u884c\u8c03\u6574\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E4%B8%8EMultiwfn%E8%AE%A1%E7%AE%97RESP%E7%94%B5%E8%8D%B7%E8%84%9A%E6%9C%AC%E5%88%86%E6%9E%90.html#_3","title":"\u53c2\u8003\u6750\u6599","text":"<p>[1] RESP\u62df\u5408\u9759\u7535\u52bf\u7535\u8377\u7684\u539f\u7406\u4ee5\u53ca\u5728Multiwfn\u4e2d\u7684\u8ba1\u7b97 [2] Multiwfn manual [3] DFT-D\u8272\u6563\u6821\u6b63\u7684\u4f7f\u7528 [4] ORCA manual 5.0.3 [5] \u8be6\u8c08Multiwfn\u7684\u547d\u4ee4\u884c\u65b9\u5f0f\u8fd0\u884c\u548c\u6279\u91cf\u8fd0\u884c\u7684\u65b9\u5f0f [6] shell \u7f16\u7a0b-awk\u8bed\u6cd5\u5c0f\u7ed3</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html","title":"ORCA\u7684\u4f7f\u7528","text":"<p>ORCA\u662f\u8457\u540d\u7684\u91cf\u5b50\u5316\u5b66\u8f6f\u4ef6\u3002\u8be5\u7a0b\u5e8f\u53ef\u5728ORCA\u5b98\u7f51\u4e0a\u8fdb\u884c\u4e0b\u8f7d\u3002\u4e0b\u8f7d\u524d\u9700\u5148\u6ce8\u518c\u76f8\u5e94\u7684ORCA\u7528\u6237\u8d26\u53f7\u3002\u82e5\u56e0\u4e3a\u7279\u6b8a\u539f\u56e0\u65e0\u6cd5\u4e0b\u8f7dORCA\uff0c\u53ef\u901a\u8fc7\u7f51\u76d8\u8fdb\u884c\u4e0b\u8f7d(\u6ce8\uff1a\u82e5\u9700\u4f7f\u7528ORCA\uff0c\u8bf7\u52a1\u5fc5\u4e3b\u52a8\u53bbORCA\u5b98\u7f51\u6ce8\u518c\uff0c\u4ed4\u7ec6\u9605\u8bfb\u4f7f\u7528\u6761\u6b3e\u5e76\u786e\u8ba4\u81ea\u5df1\u6709\u514d\u8d39\u4f7f\u7528\u7684\u6743\u9650)\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#orca","title":"ORCA\u5728\u865a\u62df\u673a\u4e0a\u7684\u5b89\u88c5\u4e0e\u4f7f\u7528","text":"<p>\u5982\u4f55\u5728\u81ea\u5df1\u7684\u865a\u62df\u673a\u4e2d\u5b89\u88c5\u548c\u4f7f\u7528ORCA\uff0c\u76f8\u5173\u7684\u5e16\u5b50\u5df2\u7ecf\u53d9\u8ff0\u7684\u5f88\u6e05\u695a\u4e86\uff0c\u8fd9\u91cc\u4e0d\u518d\u8d58\u8ff0\u3002\u4e0b\u9762\u4e3b\u8981\u8ba8\u8bbaORCA\u5728\u8d85\u7b97\u4e0a\u7684\u4f7f\u7528\u65b9\u6cd5\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#orca_1","title":"ORCA\u5728\u8d85\u7b97\u4e0a\u7684\u4f7f\u7528","text":"<p>ORCA\u5728\u8d85\u7b97\u4e0a\u7684\u4f7f\u7528\u4e3b\u8981\u5206\u4e3a\u4ee5\u4e0b\u7684\u51e0\u4e2a\u6b65\u9aa4\uff1a</p> <pre><code>graph TB\n  A[Step1: \u5728MS\u4e2d\u5efa\u6a21\uff0c\u83b7\u5f97\u5206\u5b50\u7684\u7ed3\u6784\u6587\u4ef6] --&gt; B[Step2: \u8c03\u7528Multiwfn\u751f\u6210ORCA\u8f93\u5165\u6587\u4ef6];\n  B --&gt;C[Step3: \u5c06ORCA\u8f93\u5165\u6587\u4ef6\u4e0a\u4f20\u670d\u52a1\u5668];\n  C --&gt;D[Step4: \u5229\u7528\u547d\u4ee4\u63d0\u4ea4ORCA\u4efb\u52a1];\n  D --&gt;E[Step5: \u83b7\u53d6\u8ba1\u7b97\u7ed3\u679c];\n  E --&gt;F[Step6: \u6ce2\u51fd\u6570\u5206\u6790];</code></pre> <p>\u6ce8\u610f</p> <p>MS\u8f93\u51fa\u5206\u5b50\u7684\u7ed3\u6784\u6587\u4ef6\u4fdd\u5b58\u4e3apdb\u6587\u4ef6\u6216mol2\u6587\u4ef6\u5373\u53ef\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step1-ms","title":"Step1: \u5728MS\u4e2d\u5efa\u6a21\uff0c\u83b7\u5f97\u5206\u5b50\u7684\u7ed3\u6784\u6587\u4ef6","text":"<p>\u8be5\u90e8\u6d89\u53ca\u5230MS\u5177\u4f53\u7684\u4f7f\u7528\u65b9\u6cd5\uff0c\u8fd9\u91cc\u4e0d\u8fdb\u884c\u76f8\u5173\u9610\u8ff0\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step2-multiwfnorca","title":"Step2: \u8c03\u7528Multiwfn\u751f\u6210ORCA\u8f93\u5165\u6587\u4ef6","text":"<p>\u9996\u5148\u6253\u5f00<code>Multiwfn</code>\uff0c\u7136\u540e\u5c06\u4e0a\u4e00\u6b65\u5f97\u5230\u7684\u7ed3\u6784\u6587\u4ef6\u76f4\u63a5\u62c9\u8fdbMultiwfn\u4e2d\uff0c\u7136\u540e\u4fbf\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u7684\u83dc\u5355\u9009\u9879\uff1a Multiwfn\u4e3b\u83dc\u5355<pre><code>                    ************ Main function menu ************\n 0 Show molecular structure and view orbitals\n 1 Output all properties at a point       2 Topology analysis\n 3 Output and plot specific property in a line\n 4 Output and plot specific property in a plane\n 5 Output and plot specific property within a spatial region (calc. grid data)\n 6 Check &amp; modify wavefunction\n 7 Population analysis and calculation of atomic charges\n 8 Orbital composition analysis           9 Bond order analysis\n 10 Plot total DOS, partial DOS, OPDOS, local DOS and photoelectron spectrum\n 11 Plot IR/Raman/UV-Vis/ECD/VCD/ROA/NMR spectrum\n 12 Quantitative analysis of molecular surface\n 13 Process grid data (No grid data is presented currently)\n 14 Adaptive natural density partitioning (AdNDP) analysis\n 15 Fuzzy atomic space analysis\n 16 Charge decomposition analysis (CDA) and plot orbital interaction diagram\n 17 Basin analysis                       18 Electron excitation analysis\n 19 Orbital localization analysis        20 Visual study of weak interaction\n 21 Energy decomposition analysis        22 Conceptual DFT (CDFT) analysis\n 23 ETS-NOCV analysis                    24 (Hyper)polarizability analysis\n 25 Electron delocalization and aromaticity analyses\n 26 Structure and geometry related analyses\n 100 Other functions (Part 1)            200 Other functions (Part 2)\n 300 Other functions (Part 3)\n</code></pre> \u968f\u540e\uff0c\u952e\u5165<code>oi</code>\u8fdb\u884cORCA\u8f93\u5165\u6587\u4ef6\u7684\u4ea7\u751f\u3002\u9996\u5148\uff0c\u8bf7\u5148\u8f93\u5165ORCA\u8f93\u5165\u6587\u4ef6\u4fdd\u5b58\u7684\u8def\u5f84\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a <pre><code> Input path for generating ORCA input file, e.g. C:\\ltwd.inp\n If press ENTER button directly, will be exported to COF.inp\n</code></pre> \u968f\u540e\uff0c\u8fdb\u5165ORCA\u8ba1\u7b97\u53c2\u6570\u786e\u5b9a\u754c\u9762\uff0c\u5982\u4e0b\u56fe\u6240\u793a\uff1a ORCA\u8f93\u5165\u6587\u4ef6\u76f8\u5173\u9009\u9879<pre><code> -100 Use template input file provided by user to generate new input file\n -11 Choose ORCA version compatibility, current: &gt;ORCA 5.0\n -10 Set computational resources, core:   4 memory/core:  1000 MB\n -5 Set mixed basis set, current: Defined for    0 atoms\n -4 Other settings\n -2 Toggle adding diffuse functions, current: No\n -1 Toggle employing implicit solvation model, current: No\n 0 Select task, current: Single point\n 1 B97-3c      1b r2SCAN-3c\n 2 RI-BLYP-D3(BJ)/def2-TZVP\n 3 RI-B3LYP-D3(BJ)/def2-TZVP(-f)     4 RI-B3LYP-D3(BJ)/def2-TZVP\n 5 RI-wB97M-V/def2-TZVP\n 6 RI-PWPB95-D3(BJ)/def2-TZVPP       7 RI-PWPB95-D3(BJ)/def2-QZVPP\n 6b RI-wB97X-2-D3(BJ)/def2-TZVPP     7b RI-wB97X-2-D3(BJ)/def2-QZVPP\n 6c RI-revDSD-PBEP86-D4/def2-TZVPP   7c RI-revDSD-PBEP86-D4/def2-QZVPP\n 8 DLPNO-CCSD(T)/cc-pVTZ with normalPNO and RIJK\n 9 DLPNO-CCSD(T)/cc-pVTZ with tightPNO and RIJK\n 10 CCSD(T)/cc-pVTZ\n 11 CCSD(T)-F12/cc-pVDZ-F12 with RI\n 12 Approximated CCSD(T)/CBS with help of MP2 (cc-pVTZ-&gt;QZ extrapolation)\n 13 DLPNO-CCSD(T)/CBS with tightPNO and RIJK (def2-TZVPP-&gt;QZVPP extrapolation)\n 14 CCSD(T)/CBS (cc-pVTZ-&gt;QZ extrapolation)\n 20 sTD-DFT based on RI-wB97X-D3/def2-SV(P) orbitals\n 21 TDA-DFT RI-PBE0/def2-SV(P) with riints_disk (much faster than 22)\n 22 TDDFT RI-PBE0/def2-SV(P)\n 23 TDDFT RI-RSX-QIDH/def2-TZVP    231 TDDFT RI-DSD-PBEP86/def2-TZVP\n 24 EOM-CCSD/cc-pVTZ                 25 STEOM-DLPNO-CCSD/def2-TZVP\n</code></pre> \u5bf9\u4e8e\u4e0a\u8ff0\u7684\u9009\u62e9\uff0c\u6709\u4ee5\u4e0b\u7684\u51e0\u70b9\u9700\u8981\u6ce8\u610f\uff1a</p> <ul> <li>\u5bf9\u4e8e\u9009\u9879<code>-11</code>\uff1a\u8d85\u7b97\u5b89\u88c5\u7684ORCA\u7248\u672c\u4e3a5.0.3\uff0c\u6b64\u9009\u9879\u65e0\u9700\u66f4\u6539</li> <li>\u5bf9\u4e8e\u9009\u9879<code>-10</code>\uff1a\u82e5\u8be5\u4efb\u52a1\u5728\u8d85\u7b97\u4e0a\u8fdb\u884c\uff0c\u6b64\u8f93\u5165\u6587\u4ef6\u8fd0\u884c\u7684\u6838\u6570\u5e76\u4e0d\u53d6\u51b3\u4e8e\u8fd9\u91cc\u7684\u53d6\u503c(\u53d6\u51b3\u4e8e\u4ec0\u4e48\uff0c\u8bf7\u770b\u540e\u9762\u7684\u5185\u5bb9)\u3002\u82e5\u8be5\u4efb\u52a1\u5728\u81ea\u5df1\u7684\u865a\u62df\u673a\u4e0a\u8fdb\u884c\uff0c\u8bf7\u5c06\u8be5\u503c\u8c03\u6574\u4e3a\u4f60\u60f3\u8fd0\u884c\u7684\u6838\u6570</li> <li>\u5bf9\u4e8e\u9009\u9879<code>-2</code>\uff1a\u4f55\u65f6\u52a0\u5f25\u6563\uff0c\u4f55\u65f6\u4e0d\u52a0\u5f25\u6563\u8bf7\u770b\u300a\u8c08\u8c08\u5f25\u6563\u51fd\u6570\u548c\u201c\u6708\u4efd\u201d\u57fa\u7ec4\u300b</li> <li>\u5bf9\u4e8e\u9009\u9879<code>-1</code>\uff1a\u82e5\u6240\u9700\u8ba1\u7b97\u7684\u5316\u5b66\u7269\u79cd\u662f\u5728\u6eb6\u5242\u4e2d\u7684\uff0c\u5e76\u4e14\u60f3\u4f7f\u7528\u9690\u5f0f\u6eb6\u5242\u6a21\u578b\uff0c\u5219\u9700\u8981\u8fdb\u5165\u6b64\u9009\u9879\u8fdb\u884c\u8bbe\u7f6e</li> <li>\u5bf9\u4e8e\u9009\u9879<code>0</code>\uff1a\u5728\u8fd9\u91cc\u786e\u5b9a\u8ba1\u7b97\u7684\u4efb\u52a1\u7c7b\u578b</li> <li>\u9009\u9879<code>1</code>\u81f3<code>25</code>\u4e3a\u8ba1\u7b97\u7ea7\u522b\uff0c\u5404\u8ba1\u7b97\u7ea7\u522b\u7684\u786e\u5b9a\u8bf7\u770b\u300a\u8be6\u8c08Multiwfn\u4ea7\u751fORCA\u91cf\u5b50\u5316\u5b66\u7a0b\u5e8f\u7684\u8f93\u5165\u6587\u4ef6\u7684\u529f\u80fd\u300b</li> </ul> <p>\u786e\u5b9a\u597d\u8ba1\u7b97\u7ea7\u522b\u4e4b\u540e\uff0cORCA\u8f93\u5165\u6587\u4ef6\u5c31\u5df2\u81ea\u52a8\u751f\u6210\u5728\u524d\u9762\u8f93\u5165\u7684\u6587\u4ef6\u4fdd\u5b58\u7684\u8def\u5f84\u4e0b\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step3-orca","title":"Step3: \u5c06ORCA\u8f93\u5165\u6587\u4ef6\u4e0a\u4f20\u81f3\u670d\u52a1\u5668","text":"<p>\u6b64\u6b65\u9aa4\u4e0d\u8fdb\u884c\u8fdb\u4e00\u6b65\u7684\u89e3\u91ca\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step4-orca","title":"Step4: \u5229\u7528\u547d\u4ee4\u63d0\u4ea4ORCA\u4efb\u52a1","text":"<p>\u8d85\u7b97\u4e2d\u63d0\u4ea4ORCA\u6587\u4ef6\u4e2d\u7684\u547d\u4ee4\u4e3a\uff1a \u63d0\u4ea4ORCA\u4efb\u52a1\u7684\u547d\u4ee4<pre><code>SubOr.sh [name of input file for ORCA] [cores number, default: 16]\n</code></pre> \u4f8b\u5982\uff1a <code>SubOr.sh test.inp 4</code>\uff1aORCA\u8f93\u5165\u6587\u4ef6\u7684\u540d\u5b57\u4e3a<code>test.inp</code>\uff0c\u8fd0\u884c\u8be5\u6587\u4ef6\u6240\u7528\u7684\u6838\u6570\u4e3a<code>4</code> <code>SubOr.sh test.inp</code>\uff1aORCA\u8f93\u5165\u6587\u4ef6\u7684\u540d\u5b57\u4e3a<code>test.inp</code>\uff0c\u8fd0\u884c\u8be5\u6587\u4ef6\u6240\u7528\u7684\u6838\u6570\u4e3a<code>16</code></p> <p>\u6ce8\u610f</p> <p>\u5728\u8d85\u7b97\u4e2d\uff0cORCA\u8fd0\u884c\u7684\u6838\u6570\u4ee5<code>SubOr.sh</code>\u547d\u4ee4\u4e2d\u6240\u89c4\u5b9a\u7684\u6838\u6570\u4e3a\u51c6\u3002</p> <p>\u5728ORCA\u7684\u8f93\u5165\u6587\u4ef6\u4e2d\uff0c<code>%pal nprocs</code>\u540e\u8ddf\u7684\u6570\u5b57\u5373\u4e3a\u8fd0\u884c\u8be5\u8ba1\u7b97\u4efb\u52a1\u7684\u6838\u6570\uff0c\u4f8b\u5982\uff1a <pre><code>%pal nprocs   10 end\n</code></pre> \u5728\u5229\u7528<code>SubOr.sh</code>\u547d\u4ee4\u63d0\u4ea4ORCA\u8ba1\u7b97\u4efb\u52a1\u65f6\uff0c\u547d\u4ee4\u4f1a\u81ea\u52a8\u628aORCA\u8f93\u5165\u6587\u4ef6\u4e2d\u6240\u89c4\u5b9a\u7684\u6838\u6570\u6539\u4e3a<code>SubOr.sh</code>\u547d\u4ee4\u4e2d\u6240\u89c4\u5b9a\u7684\u6838\u6570\u3002</p> <p>\u91c7\u7528<code>SubOr.sh</code>\u811a\u672c\u63d0\u4ea4<code>ORCA</code>\u7684\u6ce8\u610f\u4e8b\u9879</p> <p><li><code>ORCA</code>\u8f93\u5165\u6587\u4ef6\u9700\u8981\u7531<code>Multiwfn</code>\u751f\u6210\uff0c\u5426\u5219\u4f1a\u62a5\u9519\u3002\u5982\u4e0b\u6240\u793a <pre><code>Warning! Warning! Warning! Warning! There is no %pal in your input file.\nPlease use Multiwfn to generate the input file for ORCA!\n</code></pre> </li> <li>\u82e5<code>ORCA</code>\u8f93\u5165\u6587\u4ef6\u4e2d<code>%pal nprocs</code>\u8fd9\u4e00\u884c\u6240\u89c4\u5b9a\u8fd0\u884c\u7684\u6838\u6570\u4e0e<code>SubOr.sh</code>\u547d\u4ee4\u4e2d\u6240\u786e\u5b9a\u7684\u6838\u6570\u4e0d\u4e00\u81f4\uff0c\u4f1a\u51fa\u73b0\u4ee5\u4e0b\u7684\u63d0\u793a <pre><code>!!! Number of cores in 36 is not equal to number of cores in SubOr.sh commmand !!!\n!!! Number of cores in test.inp has been adjusted to 16 !!!\n</code></pre> </li></p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step5","title":"Step5: \u83b7\u53d6\u8ba1\u7b97\u7ed3\u679c","text":"<p>\u5bf9\u4e8e\u9700\u8981\u67e5\u770b\u80fd\u91cf\u7684\u8ba1\u7b97\u9879\u76ee\uff0c\u53ef\u5728<code>.out</code>\u6587\u4ef6\u4e2d\u67e5\u627e<code>FINAL SINGLE POINT ENERGY</code>\uff0c\u6700\u540e\u4e00\u4e2a<code>FINAL SINGLE POINT ENERGY</code>\u5bf9\u5e94\u7684\u5373\u4e3a\u5f97\u5230\u7684\u80fd\u91cf\u503c\u3002 \u5bf9\u4e8e\u5176\u4ed6\u8ba1\u7b97\u9879\u76ee\uff0c\u9700\u8981\u5177\u4f53\u60c5\u51b5\u5177\u4f53\u5206\u6790\u3002</p> <p>\u5229\u7528\u5df2\u6709\u7684\u6ce2\u51fd\u6570\u6587\u4ef6\u8fdb\u884c\u6ce2\u51fd\u6570\u521d\u731c</p> <p>\u53ef\u5728ORCA\u8f93\u5165\u6587\u4ef6\u4e2d\u52a0\u4e0a<code>%moinp \"XXX.gbw\"</code>(XXX.gbw\u662f\u8981\u8bfb\u53d6\u7684gbw\u6587\u4ef6\u540d)\u8fd9\u4e00\u884c\u8fdb\u884c\u6ce2\u51fd\u6570\u8bfb\u53d6\u3002\u6b64\u5916\uff0c\u5728\u8fdb\u884c\u5355\u70b9\u80fd\u8ba1\u7b97\u65f6(\u4ec5\u5728\u8fdb\u884c\u5355\u70b9\u80fd\u8ba1\u7b97\u65f6)\uff0cORCA\u4f1a\u5148\u68c0\u6d4b\u6709\u6ca1\u6709\u8ddf\u8f93\u5165\u6587\u4ef6\u540c\u540d\u7684gbw\u6587\u4ef6\uff0c\u5982\u679c\u6709\u7684\u8bdd\u4f1a\u81ea\u52a8\u8bfb\u53d6\u6ce2\u51fd\u6570\uff0c\u800c\u4e0d\u91cd\u65b0\u521d\u731c\u8fdb\u884cSCF\u8fed\u4ee3\u3002\u5982\u679c\u4e0d\u60f3\u81ea\u52a8\u8bfb\u53d6\u6ce2\u51fd\u6570\uff0c\u9700\u8981\u4f7f\u7528<code>!noautostart</code>\u5173\u952e\u8bcd\u3002</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#step6-multiwfn","title":"Step6: \u5229\u7528Multiwfn\u8fdb\u884c\u6ce2\u51fd\u6570\u5206\u6790","text":"<p>\u5bf9\u4e8e\u67d0\u4e9b\u9700\u8981\u66f4\u4e3a\u7ec6\u81f4\u7814\u7a76\u4f53\u7cfb\u7684\u60c5\u51b5\uff0c\u8fdb\u884c\u6ce2\u51fd\u6570\u5206\u6790\u662f\u4e00\u4e2a\u5f88\u597d\u7684\u9009\u62e9\u3002\u76ee\u524d\uff0c\u53ef\u4f7f\u7528Multiwfn\u5bf9ORCA\u8ba1\u7b97\u5f97\u5230\u7684\u6ce2\u51fd\u6570\u6587\u4ef6\u8fdb\u884c\u6ce2\u51fd\u6570\u5206\u6790\u3002ORCA\u76f4\u63a5\u8f93\u51fa\u7684\u6ce2\u51fd\u6570\u6587\u4ef6\u4e3a<code>gbw</code>\u6587\u4ef6\uff0c\u4f46\u662fMultiwfn\u65e0\u6cd5\u76f4\u63a5\u5bf9gbw\u6587\u4ef6\u8fdb\u884c\u8bfb\u53d6\uff0c\u9700\u4f7f\u7528\u5230ORCA\u81ea\u5e26\u7684<code>orca_2mkl</code>\u547d\u4ee4\u3002\u5728\u865a\u62df\u673a\u4e2d\u5b9e\u73b0\u4e0a\u8ff0\u8f6c\u6362\u7684\u4ee3\u7801\u5982\u4e0b\uff1a <pre><code>orca_2mkl MIO -molden\n</code></pre> \u91c7\u7528\u4e0a\u8ff0\u7684\u547d\u4ee4\u80fd\u591f\u5c06\u5f53\u524d\u76ee\u5f55\u4e0b\u7684<code>MIO.gbw</code>\u6587\u4ef6\u8f6c\u6362\u6210<code>molden</code>\u6587\u4ef6\u3002</p> <p>\u5728\u8d85\u7b97\u4e2d\u53ef\u4f7f\u7528<code>gbw.sh</code>\u547d\u4ee4\u5b9e\u73b0\u4e0a\u8ff0\u8f6c\u6362\u3002<code>gbw.sh</code>\u547d\u4ee4\u7684\u8bed\u6cd5\u5982\u4e0b\uff1a \u5c06gbw\u6587\u4ef6\u8f6c\u6362\u6210molden\u6587\u4ef6\u7684\u547d\u4ee4<pre><code>gbw.sh [name of gbw file]\n</code></pre> \u4f8b\u5982\uff1a <code>gbw.sh test.gbw</code>\uff1a\u5c06<code>test.gbw</code>\u8f6c\u6362\u6210<code>test.molden</code>\u3002</p> <p>\u91c7\u7528<code>gbw.sh</code>\u811a\u672c\u5b9e\u73b0\u6ce2\u51fd\u6570\u6587\u4ef6\u683c\u5f0f\u8f6c\u6362\u7684\u6ce8\u610f\u4e8b\u9879</p> <p><li><code>gbw.sh</code>\u811a\u672c\u540e\u9700\u63a5<code>gbw</code>\u6587\u4ef6\u540d\u53c2\u6570\uff0c\u5426\u5219\u4f1a\u62a5\u9519\uff0c\u5982\u4e0b\u6240\u793a\u3002 <pre><code>Warning! Warning! Warning! Warning! There is no input file.\n</code></pre> </li> <li><code>gbw.sh</code>\u811a\u672c\u540e\u7684<code>gbw</code>\u82e5\u4e0d\u5b58\u5728\u4e5f\u4f1a\u62a5\u9519\uff0c\u5982\u4e0b\u6240\u793a\u3002 <pre><code>Warning! Warning! Warning! Warning! test.gbw doesn't exit\n</code></pre> </li></p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/ORCA%E7%9A%84%E4%BD%BF%E7%94%A8.html#_1","title":"\u53c2\u8003\u6750\u6599","text":"<p>[1] \u8be6\u8c08Multiwfn\u652f\u6301\u7684\u8f93\u5165\u6587\u4ef6\u7c7b\u578b\u3001\u4ea7\u751f\u65b9\u6cd5\u4ee5\u53ca\u76f8\u4e92\u8f6c\u6362</p>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/%E5%85%B3%E4%BA%8E%E7%BB%93%E6%9E%84%E5%9C%A8%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%97%8B%E8%BD%AC%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%AE%A8%E8%AE%BA.html","title":"\u5173\u4e8e\u7ed3\u6784\u5728\u5750\u6807\u7cfb\u4e2d\u8fdb\u884c\u65cb\u8f6c\u76f8\u5173\u95ee\u9898\u7684\u8ba8\u8bba","text":""},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/%E5%85%B3%E4%BA%8E%E7%BB%93%E6%9E%84%E5%9C%A8%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%97%8B%E8%BD%AC%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%AE%A8%E8%AE%BA.html#_1","title":"\u5173\u4e8e\u7ed3\u6784\u5728\u5750\u6807\u7cfb\u4e2d\u8fdb\u884c\u65cb\u8f6c\u76f8\u5173\u95ee\u9898\u7684\u8ba8\u8bba","text":"<p>\u5728\u91cf\u5b50\u5316\u5b66\u67d0\u4e9b\u8ba1\u7b97\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u6d89\u53ca\u5230\u7ed3\u6784\u5728\u5750\u6807\u7cfb\u4e2d\u8fdb\u884c\u65cb\u8f6c\u7684\u8fc7\u7a0b\u3002\u4f8b\u5982\u5728\u6784\u8c61\u641c\u7d22\u8fc7\u7a0b\u4e2d\uff0c\u4f1a\u6d89\u53ca\u5230\u5206\u5b50\u4e2d\u67d0\u4e00\u90e8\u5206\u7684\u7ed3\u6784\u7ed5\u7740\u67d0\u4e00\u6839\u952e\u8fdb\u884c\u65cb\u8f6c\u4ece\u800c\u4ea7\u751f\u4e00\u7cfb\u5217\u7684\u521d\u59cb\u7ed3\u6784\u7684\u8fc7\u7a0b\u3002\u56e0\u6b64\uff0c\u4e0b\u9762\u5bf9\u7ed3\u6784\u5728\u5750\u6807\u7cfb\u4e2d\u8fdb\u884c\u65cb\u8f6c\u7684\u672c\u8d28\u8fdb\u884c\u8bf4\u660e\u3002</p> <p>\u5750\u6807\u7cfb\u4e2d\u67d0\u4e00\u70b9\u7ed5\u67d0\u4e2a\u8f74\u8fdb\u884c\u65cb\u8f6c\uff0c\u672c\u8d28\u4e0a\u662f\u5bf9\u5750\u6807\u77e2\u91cf\u5e94\u7528\u4e00\u4e2a\u65cb\u8f6c\u77e9\u9635\u3002\u800c\u65cb\u8f6c\u77e9\u9635\u4e2d\u7684\u6bcf\u4e00\u5217\uff0c\u672c\u8d28\u4e0a\u65cb\u8f6c\u540e\u5750\u6807\u7cfb\u7684\u5750\u6807\u8f74\u5728\u65cb\u8f6c\u524d\u7684\u5750\u6807\u7cfb\u4e2d\u7684\u5750\u6807\u3002\u8003\u8651\u5230\u8fd9\u4e00\u70b9\uff0c\u6211\u4eec\u53ef\u4ee5\u603b\u7ed3\u5f97\u5230\u5728\u53f3\u624b\u5750\u6807\u7cfb\u4e2d(VMD\u548cMaterials Studio\u4e2d\u5750\u6807\u7cfb\u5747\u4e3a\u53f3\u624b\u5750\u6807\u7cfb)\u7ed5x,y\u548cz\u8f74\u65cb\u8f6c\u7684\u65cb\u8f6c\u77e9\u9635\u3002</p> <ul> <li>\u7ed5x\u8f74\u65cb\u8f6c $$     R_x = \\begin{bmatrix}         x^{\\prime} \\\\ y^{\\prime} \\\\ z^{\\prime}     \\end{bmatrix}     = \\begin{bmatrix}         1 &amp; 0 &amp; 0 \\\\ 0 &amp; \\cos\\alpha &amp; -\\sin\\alpha \\\\ 0 &amp; \\sin\\alpha &amp; \\cos\\alpha     \\end{bmatrix}     \\begin{bmatrix}         x \\\\ y \\\\ z     \\end{bmatrix} $$</li> <li>\u7ed5y\u8f74\u65cb\u8f6c $$     R_y = \\begin{bmatrix}         x^{\\prime} \\\\ y^{\\prime} \\\\ z^{\\prime}     \\end{bmatrix}     = \\begin{bmatrix}         \\cos\\alpha &amp; 0 &amp; \\sin\\alpha \\\\ 0 &amp; 1 &amp; 0 \\\\  -\\sin\\alpha &amp; 0 &amp; \\cos\\alpha     \\end{bmatrix}     \\begin{bmatrix}         x \\\\ y \\\\ z     \\end{bmatrix} $$</li> <li>\u7ed5z\u8f74\u65cb\u8f6c $$     R_y = \\begin{bmatrix}         x^{\\prime} \\\\ y^{\\prime} \\\\ z^{\\prime}     \\end{bmatrix}     = \\begin{bmatrix}         \\cos\\alpha &amp; -\\sin\\alpha &amp; 0 \\\\ \\sin\\alpha &amp; \\cos\\alpha &amp; 0 \\\\  0 &amp; 0 &amp; 1     \\end{bmatrix}     \\begin{bmatrix}         x \\\\ y \\\\ z     \\end{bmatrix} $$ \u8fdb\u4e00\u6b65\uff0c\u6211\u4eec\u53ef\u4ee5\u5f97\u5230\u5728\u53f3\u624b\u5750\u6807\u7cfb\u4e2d\u7ed5\u4efb\u610f\u8f74\\(n\\)\u65cb\u8f6c\u7684\u65cb\u8f6c\u77e9\u9635\u3002\u5728\u8fd9\u91cc\uff0c $$ n = \\begin{bmatrix}     n_x \\\\ n_y \\\\ n_z \\end{bmatrix}  $$ \u5176\u4e2d\uff0c\u4e0a\u8ff0\u65cb\u8f6c\u8f74\u5404\u5206\u91cf\u6ee1\u8db3\uff1a $$ n_x^2 + n_y^2 + n_z^2 = 1 $$ \u5219\u7ed5\\(n\\)\u8f74\u8fdb\u884c\u65cb\u8f6c\u7684\u65cb\u8f6c\u77e9\u9635\u4e3a\uff1a $$     \\begin{bmatrix}         n^2_x(1-\\cos\\theta)+\\cos\\theta &amp;&amp; n_xn_y(1-\\cos\\theta)-n_z\\sin\\theta &amp;&amp; n_xn_z(1-\\cos\\theta)+n_y\\sin\\theta \\\\ n_xn_y(1-\\cos\\theta)+n_z\\sin\\theta &amp;&amp; n_y^2(1-\\cos\\theta)+\\cos\\theta &amp;&amp; n_yn_z(1-\\cos\\theta)-n_x\\sin\\theta \\\\ n_xn_z(1-\\cos\\theta)-n_y\\sin\\theta &amp;&amp; n_yn_z(1-\\cos\\theta)+n_x\\sin\\theta &amp;&amp; n_z^2(1-\\cos\\theta)+\\cos\\theta     \\end{bmatrix} $$</li> </ul>"},{"location":"%E8%AE%A1%E7%AE%97%E5%8C%96%E5%AD%A6/%E9%87%8F%E5%AD%90%E5%8C%96%E5%AD%A6/%E5%85%B3%E4%BA%8E%E7%BB%93%E6%9E%84%E5%9C%A8%E5%9D%90%E6%A0%87%E7%B3%BB%E4%B8%AD%E8%BF%9B%E8%A1%8C%E6%97%8B%E8%BD%AC%E7%9B%B8%E5%85%B3%E9%97%AE%E9%A2%98%E7%9A%84%E8%AE%A8%E8%AE%BA.html#_2","title":"\u53c2\u8003\u6750\u6599","text":"<p>[1] \u4e09\u7ef4\u5750\u6807\u65cb\u8f6c\u77e9\u9635\u63a8\u5bfc\u8fc7\u7a0b [2] \u65cb\u8f6c\u77e9\u9635\u53ca\u5de6\u53f3\u4e58\u7684\u610f\u4e49 [3] \u4e09\u7ef4\u7a7a\u95f4\u7ed5\u4efb\u610f\u8f74\u65cb\u8f6c\u77e9\u9635\u7684\u63a8\u5bfc</p>"}]}